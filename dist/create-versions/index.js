var Oo=Object.create;var Bt=Object.defineProperty;var To=Object.getOwnPropertyDescriptor;var vo=Object.getOwnPropertyNames;var Ro=Object.getPrototypeOf,Co=Object.prototype.hasOwnProperty;var Po=t=>Bt(t,"__esModule",{value:!0});var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ko=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of vo(e))!Co.call(t,s)&&s!=="default"&&Bt(t,s,{get:()=>e[s],enumerable:!(r=To(e,s))||r.enumerable});return t},q=t=>ko(Po(Bt(t!=null?Oo(Ro(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ue=(t,e,r)=>new Promise((s,n)=>{var i=h=>{try{a(r.next(h))}catch(l){n(l)}},o=h=>{try{a(r.throw(h))}catch(l){n(l)}},a=h=>h.done?s(h.value):Promise.resolve(h.value).then(i,o);a((r=r.apply(t,e)).next())});var ht=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.toCommandProperties=ke.toCommandValue=void 0;function jo(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}ke.toCommandValue=jo;function Ao(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}ke.toCommandProperties=Ao});var us=E(ee=>{"use strict";var qo=ee&&ee.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Do=ee&&ee.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lo=ee&&ee.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&qo(e,t,r);return Do(e,t),e};Object.defineProperty(ee,"__esModule",{value:!0});ee.issue=ee.issueCommand=void 0;var $o=Lo(require("os")),is=ht();function os(t,e,r){let s=new cs(t,e,r);process.stdout.write(s.toString()+$o.EOL)}ee.issueCommand=os;function Ho(t,e=""){os(t,{},e)}ee.issue=Ho;var as="::",cs=class{constructor(e,r,s){e||(e="missing.command"),this.command=e,this.properties=r,this.message=s}toString(){let e=as+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let s in this.properties)if(this.properties.hasOwnProperty(s)){let n=this.properties[s];n&&(r?r=!1:e+=",",e+=`${s}=${No(n)}`)}}return e+=`${as}${Io(this.message)}`,e}};function Io(t){return is.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function No(t){return is.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var fs=E(ne=>{"use strict";var Mo=ne&&ne.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Uo=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hs=ne&&ne.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Mo(e,t,r);return Uo(e,t),e};Object.defineProperty(ne,"__esModule",{value:!0});ne.issueCommand=void 0;var ls=hs(require("fs")),Bo=hs(require("os")),zo=ht();function Fo(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!ls.existsSync(r))throw new Error(`Missing file at path: ${r}`);ls.appendFileSync(r,`${zo.toCommandValue(e)}${Bo.EOL}`,{encoding:"utf8"})}ne.issueCommand=Fo});var ps=E(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});function Vo(t){let e=t.protocol==="https:",r;if(ds(t))return r;let s;return e?s=process.env.https_proxy||process.env.HTTPS_PROXY:s=process.env.http_proxy||process.env.HTTP_PROXY,s&&(r=new URL(s)),r}lt.getProxyUrl=Vo;function ds(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let s=[t.hostname.toUpperCase()];typeof r=="number"&&s.push(`${s[0]}:${r}`);for(let n of e.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s.some(i=>i===n))return!0;return!1}lt.checkBypass=ds});var _s=E(je=>{"use strict";var Xh=require("net"),Wo=require("tls"),zt=require("http"),ms=require("https"),Go=require("events"),Zh=require("assert"),Jo=require("util");je.httpOverHttp=Yo;je.httpsOverHttp=Ko;je.httpOverHttps=Qo;je.httpsOverHttps=Xo;function Yo(t){var e=new ce(t);return e.request=zt.request,e}function Ko(t){var e=new ce(t);return e.request=zt.request,e.createSocket=ys,e.defaultPort=443,e}function Qo(t){var e=new ce(t);return e.request=ms.request,e}function Xo(t){var e=new ce(t);return e.request=ms.request,e.createSocket=ys,e.defaultPort=443,e}function ce(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||zt.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(s,n,i,o){for(var a=gs(n,i,o),h=0,l=e.requests.length;h<l;++h){var p=e.requests[h];if(p.host===a.host&&p.port===a.port){e.requests.splice(h,1),p.request.onSocket(s);return}}s.destroy(),e.removeSocket(s)})}Jo.inherits(ce,Go.EventEmitter);ce.prototype.addRequest=function(e,r,s,n){var i=this,o=Ft({request:e},i.options,gs(r,s,n));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",h),a.on("close",l),a.on("agentRemove",l),e.onSocket(a);function h(){i.emit("free",a,o)}function l(p){i.removeSocket(a),a.removeListener("free",h),a.removeListener("close",l),a.removeListener("agentRemove",l)}})};ce.prototype.createSocket=function(e,r){var s=this,n={};s.sockets.push(n);var i=Ft({},s.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(i.localAddress=e.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),me("making CONNECT request");var o=s.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",h),o.once("connect",l),o.once("error",p),o.end();function a(d){d.upgrade=!0}function h(d,m,y){process.nextTick(function(){l(d,m,y)})}function l(d,m,y){if(o.removeAllListeners(),m.removeAllListeners(),d.statusCode!==200){me("tunneling socket could not be established, statusCode=%d",d.statusCode),m.destroy();var T=new Error("tunneling socket could not be established, statusCode="+d.statusCode);T.code="ECONNRESET",e.request.emit("error",T),s.removeSocket(n);return}if(y.length>0){me("got illegal response body from proxy"),m.destroy();var T=new Error("got illegal response body from proxy");T.code="ECONNRESET",e.request.emit("error",T),s.removeSocket(n);return}return me("tunneling connection has established"),s.sockets[s.sockets.indexOf(n)]=m,r(m)}function p(d){o.removeAllListeners(),me(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var m=new Error("tunneling socket could not be established, cause="+d.message);m.code="ECONNRESET",e.request.emit("error",m),s.removeSocket(n)}};ce.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var s=this.requests.shift();s&&this.createSocket(s,function(n){s.request.onSocket(n)})}};function ys(t,e){var r=this;ce.prototype.createSocket.call(r,t,function(s){var n=t.request.getHeader("host"),i=Ft({},r.options,{socket:s,servername:n?n.replace(/:.*$/,""):t.host}),o=Wo.connect(0,i);r.sockets[r.sockets.indexOf(s)]=o,e(o)})}function gs(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Ft(t){for(var e=1,r=arguments.length;e<r;++e){var s=arguments[e];if(typeof s=="object")for(var n=Object.keys(s),i=0,o=n.length;i<o;++i){var a=n[i];s[a]!==void 0&&(t[a]=s[a])}}return t}var me;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?me=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:me=function(){};je.debug=me});var ws=E((tl,bs)=>{bs.exports=_s()});var Ss=E(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var ft=require("http"),Vt=require("https"),Es=ps(),Ae,re;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(re=Z.HttpCodes||(Z.HttpCodes={}));var G;(function(t){t.Accept="accept",t.ContentType="content-type"})(G=Z.Headers||(Z.Headers={}));var ye;(function(t){t.ApplicationJson="application/json"})(ye=Z.MediaTypes||(Z.MediaTypes={}));function Zo(t){let e=Es.getProxyUrl(new URL(t));return e?e.href:""}Z.getProxyUrl=Zo;var ea=[re.MovedPermanently,re.ResourceMoved,re.SeeOther,re.TemporaryRedirect,re.PermanentRedirect],ta=[re.BadGateway,re.ServiceUnavailable,re.GatewayTimeout],ra=["OPTIONS","GET","DELETE","HEAD"],sa=10,na=5,Be=class extends Error{constructor(e,r){super(e);this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Be.prototype)}};Z.HttpClientError=Be;var Wt=class{constructor(e){this.message=e}readBody(){return new Promise(async(e,r)=>{let s=Buffer.alloc(0);this.message.on("data",n=>{s=Buffer.concat([s,n])}),this.message.on("end",()=>{e(s.toString())})})}};Z.HttpClientResponse=Wt;function ia(t){return new URL(t).protocol==="https:"}Z.isHttps=ia;var dt=class{constructor(e,r,s){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=s,s&&(s.ignoreSslError!=null&&(this._ignoreSslError=s.ignoreSslError),this._socketTimeout=s.socketTimeout,s.allowRedirects!=null&&(this._allowRedirects=s.allowRedirects),s.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=s.allowRedirectDowngrade),s.maxRedirects!=null&&(this._maxRedirects=Math.max(s.maxRedirects,0)),s.keepAlive!=null&&(this._keepAlive=s.keepAlive),s.allowRetries!=null&&(this._allowRetries=s.allowRetries),s.maxRetries!=null&&(this._maxRetries=s.maxRetries))}options(e,r){return this.request("OPTIONS",e,null,r||{})}get(e,r){return this.request("GET",e,null,r||{})}del(e,r){return this.request("DELETE",e,null,r||{})}post(e,r,s){return this.request("POST",e,r,s||{})}patch(e,r,s){return this.request("PATCH",e,r,s||{})}put(e,r,s){return this.request("PUT",e,r,s||{})}head(e,r){return this.request("HEAD",e,null,r||{})}sendStream(e,r,s,n){return this.request(e,r,s,n)}async getJson(e,r={}){r[G.Accept]=this._getExistingOrDefaultHeader(r,G.Accept,ye.ApplicationJson);let s=await this.get(e,r);return this._processResponse(s,this.requestOptions)}async postJson(e,r,s={}){let n=JSON.stringify(r,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,ye.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,ye.ApplicationJson);let i=await this.post(e,n,s);return this._processResponse(i,this.requestOptions)}async putJson(e,r,s={}){let n=JSON.stringify(r,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,ye.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,ye.ApplicationJson);let i=await this.put(e,n,s);return this._processResponse(i,this.requestOptions)}async patchJson(e,r,s={}){let n=JSON.stringify(r,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,ye.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,ye.ApplicationJson);let i=await this.patch(e,n,s);return this._processResponse(i,this.requestOptions)}async request(e,r,s,n){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(e,i,n),a=this._allowRetries&&ra.indexOf(e)!=-1?this._maxRetries+1:1,h=0,l;for(;h<a;){if(l=await this.requestRaw(o,s),l&&l.message&&l.message.statusCode===re.Unauthorized){let d;for(let m=0;m<this.handlers.length;m++)if(this.handlers[m].canHandleAuthentication(l)){d=this.handlers[m];break}return d?d.handleAuthentication(this,o,s):l}let p=this._maxRedirects;for(;ea.indexOf(l.message.statusCode)!=-1&&this._allowRedirects&&p>0;){let d=l.message.headers.location;if(!d)break;let m=new URL(d);if(i.protocol=="https:"&&i.protocol!=m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await l.readBody(),m.hostname!==i.hostname)for(let y in n)y.toLowerCase()==="authorization"&&delete n[y];o=this._prepareRequest(e,m,n),l=await this.requestRaw(o,s),p--}if(ta.indexOf(l.message.statusCode)==-1)return l;h+=1,h<a&&(await l.readBody(),await this._performExponentialBackoff(h))}return l}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return new Promise((s,n)=>{let i=function(o,a){o&&n(o),s(a)};this.requestRawWithCallback(e,r,i)})}requestRawWithCallback(e,r,s){let n;typeof r=="string"&&(e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1,o=(h,l)=>{i||(i=!0,s(h,l))},a=e.httpModule.request(e.options,h=>{let l=new Wt(h);o(null,l)});a.on("socket",h=>{n=h}),a.setTimeout(this._socketTimeout||3*6e4,()=>{n&&n.end(),o(new Error("Request timeout: "+e.options.path),null)}),a.on("error",function(h){o(h,null)}),r&&typeof r=="string"&&a.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){a.end()}),r.pipe(a)):a.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,s){let n={};n.parsedUrl=r;let i=n.parsedUrl.protocol==="https:";n.httpModule=i?Vt:ft;let o=i?443:80;return n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(s),this.userAgent!=null&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers&&this.handlers.forEach(a=>{a.prepareRequest(n.options)}),n}_mergeHeaders(e){let r=s=>Object.keys(s).reduce((n,i)=>(n[i.toLowerCase()]=s[i],n),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},r(this.requestOptions.headers),r(e)):r(e||{})}_getExistingOrDefaultHeader(e,r,s){let n=o=>Object.keys(o).reduce((a,h)=>(a[h.toLowerCase()]=o[h],a),{}),i;return this.requestOptions&&this.requestOptions.headers&&(i=n(this.requestOptions.headers)[r]),e[r]||i||s}_getAgent(e){let r,s=Es.getProxyUrl(e),n=s&&s.hostname;if(this._keepAlive&&n&&(r=this._proxyAgent),this._keepAlive&&!n&&(r=this._agent),r)return r;let i=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ft.globalAgent.maxSockets),n){Ae||(Ae=ws());let a={maxSockets:o,keepAlive:this._keepAlive,proxy:{...(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`},host:s.hostname,port:s.port}},h,l=s.protocol==="https:";i?h=l?Ae.httpsOverHttps:Ae.httpsOverHttp:h=l?Ae.httpOverHttps:Ae.httpOverHttp,r=h(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new Vt.Agent(a):new ft.Agent(a),this._agent=r}return r||(r=i?Vt.globalAgent:ft.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){e=Math.min(sa,e);let r=na*Math.pow(2,e);return new Promise(s=>setTimeout(()=>s(),r))}static dateTimeDeserializer(e,r){if(typeof r=="string"){let s=new Date(r);if(!isNaN(s.valueOf()))return s}return r}async _processResponse(e,r){return new Promise(async(s,n)=>{let i=e.message.statusCode,o={statusCode:i,result:null,headers:{}};i==re.NotFound&&s(o);let a,h;try{h=await e.readBody(),h&&h.length>0&&(r&&r.deserializeDates?a=JSON.parse(h,dt.dateTimeDeserializer):a=JSON.parse(h),o.result=a),o.headers=e.message.headers}catch{}if(i>299){let l;a&&a.message?l=a.message:h&&h.length>0?l=h:l="Failed request: ("+i+")";let p=new Be(l,i);p.result=o.result,n(p)}else s(o)})}};Z.HttpClient=dt});var vs=E(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var xs=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,r,s){return null}};ze.BasicCredentialHandler=xs;var Os=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Bearer "+this.token}canHandleAuthentication(e){return!1}handleAuthentication(e,r,s){return null}};ze.BearerCredentialHandler=Os;var Ts=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,r,s){return null}};ze.PersonalAccessTokenCredentialHandler=Ts});var Ps=E(qe=>{"use strict";var Rs=qe&&qe.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(p){try{l(s.next(p))}catch(d){o(d)}}function h(p){try{l(s.throw(p))}catch(d){o(d)}}function l(p){p.done?i(p.value):n(p.value).then(a,h)}l((s=s.apply(t,e||[])).next())})};Object.defineProperty(qe,"__esModule",{value:!0});qe.OidcClient=void 0;var oa=Ss(),aa=vs(),Cs=Gt(),Ee=class{static createHttpClient(e=!0,r=10){let s={allowRetries:e,maxRetries:r};return new oa.HttpClient("actions/oidc-client",[new aa.BearerCredentialHandler(Ee.getRequestToken())],s)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return Rs(this,void 0,void 0,function*(){let i=(r=(yield Ee.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(e){return Rs(this,void 0,void 0,function*(){try{let r=Ee.getIDTokenUrl();if(e){let n=encodeURIComponent(e);r=`${r}&audience=${n}`}Cs.debug(`ID token url is ${r}`);let s=yield Ee.getCall(r);return Cs.setSecret(s),s}catch(r){throw new Error(`Error message: ${r.message}`)}})}};qe.OidcClient=Ee});var Gt=E(O=>{"use strict";var ca=O&&O.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),ua=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ks=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ca(e,t,r);return ua(e,t),e},js=O&&O.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(p){try{l(s.next(p))}catch(d){o(d)}}function h(p){try{l(s.throw(p))}catch(d){o(d)}}function l(p){p.done?i(p.value):n(p.value).then(a,h)}l((s=s.apply(t,e||[])).next())})};Object.defineProperty(O,"__esModule",{value:!0});O.getIDToken=O.getState=O.saveState=O.group=O.endGroup=O.startGroup=O.info=O.notice=O.warning=O.error=O.debug=O.isDebug=O.setFailed=O.setCommandEcho=O.setOutput=O.getBooleanInput=O.getMultilineInput=O.getInput=O.addPath=O.setSecret=O.exportVariable=O.ExitCode=void 0;var te=us(),As=fs(),pt=ht(),mt=ks(require("os")),ha=ks(require("path")),la=Ps(),qs;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(qs=O.ExitCode||(O.ExitCode={}));function fa(t,e){let r=pt.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let n="_GitHubActionsFileCommandDelimeter_",i=`${t}<<${n}${mt.EOL}${r}${mt.EOL}${n}`;As.issueCommand("ENV",i)}else te.issueCommand("set-env",{name:t},r)}O.exportVariable=fa;function da(t){te.issueCommand("add-mask",{},t)}O.setSecret=da;function pa(t){process.env.GITHUB_PATH||""?As.issueCommand("PATH",t):te.issueCommand("add-path",{},t),process.env.PATH=`${t}${ha.delimiter}${process.env.PATH}`}O.addPath=pa;function Jt(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}O.getInput=Jt;function ma(t,e){return Jt(t,e).split(`
`).filter(s=>s!=="")}O.getMultilineInput=ma;function ya(t,e){let r=["true","True","TRUE"],s=["false","False","FALSE"],n=Jt(t,e);if(r.includes(n))return!0;if(s.includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}O.getBooleanInput=ya;function ga(t,e){process.stdout.write(mt.EOL),te.issueCommand("set-output",{name:t},e)}O.setOutput=ga;function _a(t){te.issue("echo",t?"on":"off")}O.setCommandEcho=_a;function ba(t){process.exitCode=qs.Failure,Ds(t)}O.setFailed=ba;function wa(){return process.env.RUNNER_DEBUG==="1"}O.isDebug=wa;function Ea(t){te.issueCommand("debug",{},t)}O.debug=Ea;function Ds(t,e={}){te.issueCommand("error",pt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.error=Ds;function Sa(t,e={}){te.issueCommand("warning",pt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.warning=Sa;function xa(t,e={}){te.issueCommand("notice",pt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.notice=xa;function Oa(t){process.stdout.write(t+mt.EOL)}O.info=Oa;function Ls(t){te.issue("group",t)}O.startGroup=Ls;function $s(){te.issue("endgroup")}O.endGroup=$s;function Ta(t,e){return js(this,void 0,void 0,function*(){Ls(t);let r;try{r=yield e()}finally{$s()}return r})}O.group=Ta;function va(t,e){te.issueCommand("save-state",{name:t},e)}O.saveState=va;function Ra(t){return process.env[`STATE_${t}`]||""}O.getState=Ra;function Ca(t){return js(this,void 0,void 0,function*(){return yield la.OidcClient.getIDToken(t)})}O.getIDToken=Ca});var he=E((ue,yt)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});var Hs=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Pa(t){return Hs.includes(t)}var ka=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...Hs];function ja(t){return ka.includes(t)}var Aa=["null","undefined","string","number","bigint","boolean","symbol"];function qa(t){return Aa.includes(t)}function De(t){return e=>typeof e===t}var{toString:Is}=Object.prototype,Fe=t=>{let e=Is.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&u.domElement(t))return"HTMLElement";if(ja(e))return e},L=t=>e=>Fe(e)===t;function u(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(u.observable(t))return"Observable";if(u.array(t))return"Array";if(u.buffer(t))return"Buffer";let e=Fe(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}u.undefined=De("undefined");u.string=De("string");var Da=De("number");u.number=t=>Da(t)&&!u.nan(t);u.bigint=De("bigint");u.function_=De("function");u.null_=t=>t===null;u.class_=t=>u.function_(t)&&t.toString().startsWith("class ");u.boolean=t=>t===!0||t===!1;u.symbol=De("symbol");u.numericString=t=>u.string(t)&&!u.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));u.array=(t,e)=>Array.isArray(t)?u.function_(e)?t.every(e):!0:!1;u.buffer=t=>{var e,r,s,n;return(n=(s=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||s===void 0?void 0:s.call(r,t))!==null&&n!==void 0?n:!1};u.nullOrUndefined=t=>u.null_(t)||u.undefined(t);u.object=t=>!u.null_(t)&&(typeof t=="object"||u.function_(t));u.iterable=t=>{var e;return u.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};u.asyncIterable=t=>{var e;return u.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};u.generator=t=>{var e,r;return u.iterable(t)&&u.function_((e=t)===null||e===void 0?void 0:e.next)&&u.function_((r=t)===null||r===void 0?void 0:r.throw)};u.asyncGenerator=t=>u.asyncIterable(t)&&u.function_(t.next)&&u.function_(t.throw);u.nativePromise=t=>L("Promise")(t);var La=t=>{var e,r;return u.function_((e=t)===null||e===void 0?void 0:e.then)&&u.function_((r=t)===null||r===void 0?void 0:r.catch)};u.promise=t=>u.nativePromise(t)||La(t);u.generatorFunction=L("GeneratorFunction");u.asyncGeneratorFunction=t=>Fe(t)==="AsyncGeneratorFunction";u.asyncFunction=t=>Fe(t)==="AsyncFunction";u.boundFunction=t=>u.function_(t)&&!t.hasOwnProperty("prototype");u.regExp=L("RegExp");u.date=L("Date");u.error=L("Error");u.map=t=>L("Map")(t);u.set=t=>L("Set")(t);u.weakMap=t=>L("WeakMap")(t);u.weakSet=t=>L("WeakSet")(t);u.int8Array=L("Int8Array");u.uint8Array=L("Uint8Array");u.uint8ClampedArray=L("Uint8ClampedArray");u.int16Array=L("Int16Array");u.uint16Array=L("Uint16Array");u.int32Array=L("Int32Array");u.uint32Array=L("Uint32Array");u.float32Array=L("Float32Array");u.float64Array=L("Float64Array");u.bigInt64Array=L("BigInt64Array");u.bigUint64Array=L("BigUint64Array");u.arrayBuffer=L("ArrayBuffer");u.sharedArrayBuffer=L("SharedArrayBuffer");u.dataView=L("DataView");u.enumCase=(t,e)=>Object.values(e).includes(t);u.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;u.urlInstance=t=>L("URL")(t);u.urlString=t=>{if(!u.string(t))return!1;try{return new URL(t),!0}catch{return!1}};u.truthy=t=>Boolean(t);u.falsy=t=>!t;u.nan=t=>Number.isNaN(t);u.primitive=t=>u.null_(t)||qa(typeof t);u.integer=t=>Number.isInteger(t);u.safeInteger=t=>Number.isSafeInteger(t);u.plainObject=t=>{if(Is.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};u.typedArray=t=>Pa(Fe(t));var $a=t=>u.safeInteger(t)&&t>=0;u.arrayLike=t=>!u.nullOrUndefined(t)&&!u.function_(t)&&$a(t.length);u.inRange=(t,e)=>{if(u.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(u.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Ha=1,Ia=["innerHTML","ownerDocument","style","attributes","nodeValue"];u.domElement=t=>u.object(t)&&t.nodeType===Ha&&u.string(t.nodeName)&&!u.plainObject(t)&&Ia.every(e=>e in t);u.observable=t=>{var e,r,s,n;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((n=(s=t)["@@observable"])===null||n===void 0?void 0:n.call(s)):!1};u.nodeStream=t=>u.object(t)&&u.function_(t.pipe)&&!u.observable(t);u.infinite=t=>t===1/0||t===-1/0;var Ns=t=>e=>u.integer(e)&&Math.abs(e%2)===t;u.evenInteger=Ns(0);u.oddInteger=Ns(1);u.emptyArray=t=>u.array(t)&&t.length===0;u.nonEmptyArray=t=>u.array(t)&&t.length>0;u.emptyString=t=>u.string(t)&&t.length===0;u.nonEmptyString=t=>u.string(t)&&t.length>0;var Na=t=>u.string(t)&&!/\S/.test(t);u.emptyStringOrWhitespace=t=>u.emptyString(t)||Na(t);u.emptyObject=t=>u.object(t)&&!u.map(t)&&!u.set(t)&&Object.keys(t).length===0;u.nonEmptyObject=t=>u.object(t)&&!u.map(t)&&!u.set(t)&&Object.keys(t).length>0;u.emptySet=t=>u.set(t)&&t.size===0;u.nonEmptySet=t=>u.set(t)&&t.size>0;u.emptyMap=t=>u.map(t)&&t.size===0;u.nonEmptyMap=t=>u.map(t)&&t.size>0;u.propertyKey=t=>u.any([u.string,u.number,u.symbol],t);u.formData=t=>L("FormData")(t);u.urlSearchParams=t=>L("URLSearchParams")(t);var Ms=(t,e,r)=>{if(!u.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};u.any=(t,...e)=>(u.array(t)?t:[t]).some(s=>Ms(Array.prototype.some,s,e));u.all=(t,...e)=>Ms(Array.prototype.every,t,e);var g=(t,e,r,s={})=>{if(!t){let{multipleValues:n}=s,i=n?`received values of types ${[...new Set(r.map(o=>`\`${u(o)}\``))].join(", ")}`:`received value of type \`${u(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${i}.`)}};ue.assert={undefined:t=>g(u.undefined(t),"undefined",t),string:t=>g(u.string(t),"string",t),number:t=>g(u.number(t),"number",t),bigint:t=>g(u.bigint(t),"bigint",t),function_:t=>g(u.function_(t),"Function",t),null_:t=>g(u.null_(t),"null",t),class_:t=>g(u.class_(t),"Class",t),boolean:t=>g(u.boolean(t),"boolean",t),symbol:t=>g(u.symbol(t),"symbol",t),numericString:t=>g(u.numericString(t),"string with a number",t),array:(t,e)=>{g(u.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>g(u.buffer(t),"Buffer",t),nullOrUndefined:t=>g(u.nullOrUndefined(t),"null or undefined",t),object:t=>g(u.object(t),"Object",t),iterable:t=>g(u.iterable(t),"Iterable",t),asyncIterable:t=>g(u.asyncIterable(t),"AsyncIterable",t),generator:t=>g(u.generator(t),"Generator",t),asyncGenerator:t=>g(u.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>g(u.nativePromise(t),"native Promise",t),promise:t=>g(u.promise(t),"Promise",t),generatorFunction:t=>g(u.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>g(u.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>g(u.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>g(u.boundFunction(t),"Function",t),regExp:t=>g(u.regExp(t),"RegExp",t),date:t=>g(u.date(t),"Date",t),error:t=>g(u.error(t),"Error",t),map:t=>g(u.map(t),"Map",t),set:t=>g(u.set(t),"Set",t),weakMap:t=>g(u.weakMap(t),"WeakMap",t),weakSet:t=>g(u.weakSet(t),"WeakSet",t),int8Array:t=>g(u.int8Array(t),"Int8Array",t),uint8Array:t=>g(u.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>g(u.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>g(u.int16Array(t),"Int16Array",t),uint16Array:t=>g(u.uint16Array(t),"Uint16Array",t),int32Array:t=>g(u.int32Array(t),"Int32Array",t),uint32Array:t=>g(u.uint32Array(t),"Uint32Array",t),float32Array:t=>g(u.float32Array(t),"Float32Array",t),float64Array:t=>g(u.float64Array(t),"Float64Array",t),bigInt64Array:t=>g(u.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>g(u.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>g(u.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>g(u.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>g(u.dataView(t),"DataView",t),enumCase:(t,e)=>g(u.enumCase(t,e),"EnumCase",t),urlInstance:t=>g(u.urlInstance(t),"URL",t),urlString:t=>g(u.urlString(t),"string with a URL",t),truthy:t=>g(u.truthy(t),"truthy",t),falsy:t=>g(u.falsy(t),"falsy",t),nan:t=>g(u.nan(t),"NaN",t),primitive:t=>g(u.primitive(t),"primitive",t),integer:t=>g(u.integer(t),"integer",t),safeInteger:t=>g(u.safeInteger(t),"integer",t),plainObject:t=>g(u.plainObject(t),"plain object",t),typedArray:t=>g(u.typedArray(t),"TypedArray",t),arrayLike:t=>g(u.arrayLike(t),"array-like",t),domElement:t=>g(u.domElement(t),"HTMLElement",t),observable:t=>g(u.observable(t),"Observable",t),nodeStream:t=>g(u.nodeStream(t),"Node.js Stream",t),infinite:t=>g(u.infinite(t),"infinite number",t),emptyArray:t=>g(u.emptyArray(t),"empty array",t),nonEmptyArray:t=>g(u.nonEmptyArray(t),"non-empty array",t),emptyString:t=>g(u.emptyString(t),"empty string",t),nonEmptyString:t=>g(u.nonEmptyString(t),"non-empty string",t),emptyStringOrWhitespace:t=>g(u.emptyStringOrWhitespace(t),"empty string or whitespace",t),emptyObject:t=>g(u.emptyObject(t),"empty object",t),nonEmptyObject:t=>g(u.nonEmptyObject(t),"non-empty object",t),emptySet:t=>g(u.emptySet(t),"empty set",t),nonEmptySet:t=>g(u.nonEmptySet(t),"non-empty set",t),emptyMap:t=>g(u.emptyMap(t),"empty map",t),nonEmptyMap:t=>g(u.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>g(u.propertyKey(t),"PropertyKey",t),formData:t=>g(u.formData(t),"FormData",t),urlSearchParams:t=>g(u.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>g(u.evenInteger(t),"even integer",t),oddInteger:t=>g(u.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>g(u.directInstanceOf(t,e),"T",t),inRange:(t,e)=>g(u.inRange(t,e),"in range",t),any:(t,...e)=>g(u.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>g(u.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(u,{class:{value:u.class_},function:{value:u.function_},null:{value:u.null_}});Object.defineProperties(ue.assert,{class:{value:ue.assert.class_},function:{value:ue.assert.function_},null:{value:ue.assert.null_}});ue.default=u;yt.exports=u;yt.exports.default=u;yt.exports.assert=ue.assert});var Bs=E((er,tr)=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});function Ua(t){return t.encrypted}var Zt=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let s=typeof r.connect=="function",n=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{s&&r.connect(),Ua(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),i&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&i&&r.close(t._hadError)};er.default=Zt;tr.exports=Zt;tr.exports.default=Zt});var Ys=E((ul,Js)=>{"use strict";var za="text/plain",Fa="us-ascii",Gs=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),Va=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:s,data:n,hash:i}=r.groups,o=s.split(";");i=e?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let h=(o.shift()||"").toLowerCase(),p=[...o.map(d=>{let[m,y=""]=d.split("=").map(T=>T.trim());return m==="charset"&&(y=y.toLowerCase(),y===Fa)?"":`${m}${y?`=${y}`:""}`}).filter(Boolean)];return a&&p.push("base64"),(p.length!==0||h&&h!==za)&&p.unshift(h),`data:${p.join(";")},${a?n.trim():n}${i?`#${i}`:""}`},Wa=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return Va(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];Gs(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])Gs(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};Js.exports=Wa});var Xs=E((hl,Qs)=>{Qs.exports=Ks;function Ks(t,e){if(t&&e)return Ks(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){r[s]=t[s]}),r;function r(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];var i=t.apply(this,s),o=s[s.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var sr=E((ll,rr)=>{var Zs=Xs();rr.exports=Zs(wt);rr.exports.strict=Zs(en);wt.proto=wt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return wt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return en(this)},configurable:!0})});function wt(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function en(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var sn=E((fl,rn)=>{var Ga=sr(),Ja=function(){},Ya=function(t){return t.setHeader&&typeof t.abort=="function"},Ka=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},tn=function(t,e,r){if(typeof e=="function")return tn(t,null,e);e||(e={}),r=Ga(r||Ja);var s=t._writableState,n=t._readableState,i=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,h=function(){t.writable||l()},l=function(){o=!1,i||r.call(t)},p=function(){i=!1,o||r.call(t)},d=function(b){r.call(t,b?new Error("exited with error code: "+b):null)},m=function(b){r.call(t,b)},y=function(){process.nextTick(T)},T=function(){if(!a){if(i&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(s&&s.ended&&!s.destroyed))return r.call(t,new Error("premature close"))}},f=function(){t.req.on("finish",l)};return Ya(t)?(t.on("complete",l),t.on("abort",y),t.req?f():t.on("request",f)):o&&!s&&(t.on("end",h),t.on("close",h)),Ka(t)&&t.on("exit",d),t.on("end",p),t.on("finish",l),e.error!==!1&&t.on("error",m),t.on("close",y),function(){a=!0,t.removeListener("complete",l),t.removeListener("abort",y),t.removeListener("request",f),t.req&&t.req.removeListener("finish",l),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",l),t.removeListener("exit",d),t.removeListener("end",p),t.removeListener("error",m),t.removeListener("close",y)}};rn.exports=tn});var an=E((dl,on)=>{var Qa=sr(),Xa=sn(),nr=require("fs"),Ve=function(){},Za=/^v?\.0/.test(process.version),Et=function(t){return typeof t=="function"},ec=function(t){return!Za||!nr?!1:(t instanceof(nr.ReadStream||Ve)||t instanceof(nr.WriteStream||Ve))&&Et(t.close)},tc=function(t){return t.setHeader&&Et(t.abort)},rc=function(t,e,r,s){s=Qa(s);var n=!1;t.on("close",function(){n=!0}),Xa(t,{readable:e,writable:r},function(o){if(o)return s(o);n=!0,s()});var i=!1;return function(o){if(!n&&!i){if(i=!0,ec(t))return t.close(Ve);if(tc(t))return t.abort();if(Et(t.destroy))return t.destroy();s(o||new Error("stream was destroyed"))}}},nn=function(t){t()},sc=function(t,e){return t.pipe(e)},nc=function(){var t=Array.prototype.slice.call(arguments),e=Et(t[t.length-1]||Ve)&&t.pop()||Ve;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,s=t.map(function(n,i){var o=i<t.length-1,a=i>0;return rc(n,o,a,function(h){r||(r=h),h&&s.forEach(nn),!o&&(s.forEach(nn),e(r))})});return t.reduce(sc)};on.exports=nc});var un=E((pl,cn)=>{"use strict";var{PassThrough:ic}=require("stream");cn.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new ic({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",h=>{a.push(h),n?o=a.length:o+=h.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var hn=E((ml,Le)=>{"use strict";var{constants:oc}=require("buffer"),ac=an(),cc=un(),ir=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function St(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s;return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=oc.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};s=ac(t,cc(e),a=>{if(a){o(a);return}n()}),s.on("data",()=>{s.getBufferedLength()>r&&o(new ir)})}),s.getBufferedValue()}Le.exports=St;Le.exports.default=St;Le.exports.buffer=(t,e)=>St(t,{...e,encoding:"buffer"});Le.exports.array=(t,e)=>St(t,{...e,array:!0});Le.exports.MaxBufferError=ir});var fn=E((gl,ln)=>{"use strict";var uc=new Set([200,203,204,206,300,301,404,405,410,414,501]),hc=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),lc=new Set([500,502,503,504]),fc={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},dc={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function xe(t){let e=parseInt(t,10);return isFinite(e)?e:0}function pc(t){return t?lc.has(t.status):!0}function or(t){let e={};if(!t)return e;let r=t.trim().split(/\s*,\s*/);for(let s of r){let[n,i]=s.split(/\s*=\s*/,2);e[n]=i===void 0?!0:i.replace(/^"|"$/g,"")}return e}function mc(t){let e=[];for(let r in t){let s=t[r];e.push(s===!0?r:r+"="+s)}if(!!e.length)return e.join(", ")}ln.exports=class{constructor(e,r,{shared:s,cacheHeuristic:n,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=s!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=or(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=or(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":mc(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&hc.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||uc.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=or(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let s of r)if(e.headers[s]!==this._reqHeaders[s])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let s in e)fc[s]||(r[s]=e[s]);if(e.connection){let s=e.connection.trim().split(/\s*,\s*/);for(let n of s)delete r[n]}if(r.warning){let s=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));s.length?r.warning=s.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return xe(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return xe(this._rescc["s-maxage"])}if(this._rescc["max-age"])return xe(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let s=Date.parse(this._resHeaders.expires);return Number.isNaN(s)||s<r?0:Math.max(e,(s-r)/1e3)}if(this._resHeaders["last-modified"]){let s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&r>s)return Math.max(e,(r-s)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+xe(this._rescc["stale-if-error"]),s=e+xe(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,s)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+xe(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+xe(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&pc(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let s=!1;if(r.status!==void 0&&r.status!=304?s=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?s=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?s=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(s=!0),!s)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!dc[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var ar=E((_l,dn)=>{"use strict";dn.exports=t=>{let e={};for(let[r,s]of Object.entries(t))e[r.toLowerCase()]=s;return e}});var yn=E((bl,mn)=>{"use strict";var yc=require("stream").Readable,gc=ar(),pn=class extends yc{constructor(e,r,s,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(s instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super();this.statusCode=e,this.headers=gc(r),this.body=s,this.url=n}_read(){this.push(this.body),this.push(null)}};mn.exports=pn});var _n=E((wl,gn)=>{"use strict";var _c=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];gn.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(_c));for(let s of r)s in e||(e[s]=typeof t[s]=="function"?t[s].bind(t):t[s])}});var wn=E((El,bn)=>{"use strict";var bc=require("stream").PassThrough,wc=_n(),Ec=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new bc;return wc(t,e),t.pipe(e)};bn.exports=Ec});var En=E(cr=>{cr.stringify=function t(e){if(typeof e=="undefined")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",s=Array.isArray(e);r=s?"[":"{";var n=!0;for(var i in e){var o=typeof e[i]=="function"||!s&&typeof e[i]=="undefined";Object.hasOwnProperty.call(e,i)&&!o&&(n||(r+=","),n=!1,s?e[i]==null?r+="null":r+=t(e[i]):e[i]!==void 0&&(r+=t(i)+":"+t(e[i])))}return r+=s?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e=="undefined"?"null":JSON.stringify(e)};cr.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Tn=E((xl,On)=>{"use strict";var Sc=require("events"),Sn=En(),xc=t=>{let e={redis:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql"};if(t.adapter||t.uri){let r=t.adapter||/^[^:]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},xn=class extends Sc{constructor(e,r){super();if(this.opts=Object.assign({namespace:"keyv",serialize:Sn.stringify,deserialize:Sn.parse},typeof e=="string"?{uri:e}:e,r),!this.opts.store){let s=Object.assign({},this.opts);this.opts.store=xc(s)}typeof this.opts.store.on=="function"&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}get(e,r){let s=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(()=>n.get(s)).then(i=>typeof i=="string"?this.opts.deserialize(i):i).then(i=>{if(i!==void 0){if(typeof i.expires=="number"&&Date.now()>i.expires){this.delete(e);return}return r&&r.raw?i:i.value}})}set(e,r,s){let n=this._getKeyPrefix(e);typeof s=="undefined"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof s=="number"?Date.now()+s:null;return r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(n,o,s)).then(()=>!0)}delete(e){let r=this._getKeyPrefix(e),{store:s}=this.opts;return Promise.resolve().then(()=>s.delete(r))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}};On.exports=xn});var Cn=E((Ol,Rn)=>{"use strict";var Oc=require("events"),xt=require("url"),Tc=Ys(),vc=hn(),ur=fn(),vn=yn(),Rc=ar(),Cc=wn(),Pc=Tn(),ie=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Pc({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,s)=>{let n;if(typeof r=="string")n=hr(xt.parse(r)),r={};else if(r instanceof xt.URL)n=hr(xt.parse(r.toString())),r={};else{let[d,...m]=(r.path||"").split("?"),y=m.length>0?`?${m.join("?")}`:"";n=hr({...r,pathname:d,search:y})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...kc(n)},r.headers=Rc(r.headers);let i=new Oc,o=Tc(xt.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,h=!1,l=!1,p=d=>{l=!0;let m=!1,y,T=new Promise(b=>{y=()=>{m||(m=!0,b())}}),f=b=>{if(h&&!d.forceRefresh){b.status=b.statusCode;let j=ur.fromObject(h.cachePolicy).revalidatedPolicy(d,b);if(!j.modified){let x=j.policy.responseHeaders();b=new vn(h.statusCode,x,h.body,h.url),b.cachePolicy=j.policy,b.fromCache=!0}}b.fromCache||(b.cachePolicy=new ur(d,b,d),b.fromCache=!1);let C;d.cache&&b.cachePolicy.storable()?(C=Cc(b),(async()=>{try{let j=vc.buffer(b);if(await Promise.race([T,new Promise(V=>b.once("end",V))]),m)return;let x=await j,k={cachePolicy:b.cachePolicy.toObject(),url:b.url,statusCode:b.fromCache?h.statusCode:b.statusCode,body:x},M=d.strictTtl?b.cachePolicy.timeToLive():void 0;d.maxTtl&&(M=M?Math.min(M,d.maxTtl):d.maxTtl),await this.cache.set(a,k,M)}catch(j){i.emit("error",new ie.CacheError(j))}})()):d.cache&&h&&(async()=>{try{await this.cache.delete(a)}catch(j){i.emit("error",new ie.CacheError(j))}})(),i.emit("response",C||b),typeof s=="function"&&s(C||b)};try{let b=e(d,f);b.once("error",y),b.once("abort",y),i.emit("request",b)}catch(b){i.emit("error",new ie.RequestError(b))}};return(async()=>{let d=async y=>{await Promise.resolve();let T=y.cache?await this.cache.get(a):void 0;if(typeof T=="undefined")return p(y);let f=ur.fromObject(T.cachePolicy);if(f.satisfiesWithoutRevalidation(y)&&!y.forceRefresh){let b=f.responseHeaders(),C=new vn(T.statusCode,b,T.body,T.url);C.cachePolicy=f,C.fromCache=!0,i.emit("response",C),typeof s=="function"&&s(C)}else h=T,y.headers=f.revalidationHeaders(y),p(y)},m=y=>i.emit("error",new ie.CacheError(y));this.cache.once("error",m),i.on("response",()=>this.cache.removeListener("error",m));try{await d(r)}catch(y){r.automaticFailover&&!l&&p(r),i.emit("error",new ie.CacheError(y))}})(),i}}};function kc(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function hr(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}ie.RequestError=class extends Error{constructor(t){super(t.message);this.name="RequestError",Object.assign(this,t)}};ie.CacheError=class extends Error{constructor(t){super(t.message);this.name="CacheError",Object.assign(this,t)}};Rn.exports=ie});var kn=E((Tl,Pn)=>{"use strict";var jc=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];Pn.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(jc)),s={};for(let n of r)n in e||(s[n]={get(){let i=t[n];return typeof i=="function"?i.bind(t):i},set(i){t[n]=i},enumerable:!0,configurable:!1});return Object.defineProperties(e,s),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var An=E((vl,jn)=>{"use strict";var{Transform:Ac,PassThrough:qc}=require("stream"),lr=require("zlib"),Dc=kn();jn.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof lr.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let s=!0,n=new Ac({transform(a,h,l){s=!1,l(null,a)},flush(a){a()}}),i=new qc({autoDestroy:!1,destroy(a,h){t.destroy(),h(a)}}),o=r?lr.createBrotliDecompress():lr.createUnzip();return o.once("error",a=>{if(s&&!t.readable){i.end();return}i.destroy(a)}),Dc(t,i),t.pipe(n).pipe(o).pipe(i),i}});var Dn=E((Rl,qn)=>{"use strict";var{PassThrough:Lc}=require("stream");qn.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new Lc({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",h=>{a.push(h),n?o=a.length:o+=h.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var Ln=E((Cl,We)=>{"use strict";var{constants:$c}=require("buffer"),Hc=require("stream"),{promisify:Ic}=require("util"),Nc=Dn(),Mc=Ic(Hc.pipeline),fr=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function dr(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s=Nc(e);return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=$c.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};(async()=>{try{await Mc(t,s),n()}catch(a){o(a)}})(),s.on("data",()=>{s.getBufferedLength()>r&&o(new fr)})}),s.getBufferedValue()}We.exports=dr;We.exports.buffer=(t,e)=>dr(t,{...e,encoding:"buffer"});We.exports.array=(t,e)=>dr(t,{...e,array:!0});We.exports.MaxBufferError=fr});var Yn=E((lf,kr)=>{"use strict";var{V4MAPPED:Kc,ADDRCONFIG:Qc,ALL:zn,promises:{Resolver:Fn},lookup:Xc}=require("dns"),{promisify:Rr}=require("util"),Zc=require("os"),$e=Symbol("cacheableLookupCreateConnection"),Cr=Symbol("cacheableLookupInstance"),Vn=Symbol("expires"),eu=typeof zn=="number",Wn=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},tu=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},Gn=()=>{let t=!1,e=!1;for(let r of Object.values(Zc.networkInterfaces()))for(let s of r)if(!s.internal&&(s.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},ru=t=>Symbol.iterator in t,jt=t=>t.catch(e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT")return[];throw e}),Jn={ttl:!0},su={all:!0},nu={all:!0,family:4},iu={all:!0,family:6},Pr=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:s=3600,errorTtl:n=.15,resolver:i=new Fn,lookup:o=Xc}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=i,this._dnsLookup=o&&Rr(o),this._resolver instanceof Fn?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=Rr(this._resolver.resolve4.bind(this._resolver)),this._resolve6=Rr(this._resolver.resolve6.bind(this._resolver))),this._iface=Gn(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=s,s>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},s*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,s){if(typeof r=="function"?(s=r,r={}):typeof r=="number"&&(r={family:r}),!s)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?s(null,n):s(null,n.address,n.family,n.expires,n.ttl)},s)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let s=await this.query(e);if(r.family===6){let n=s.filter(i=>i.family===6);r.hints&Kc&&(eu&&r.hints&zn||n.length===0)?tu(s):s=n}else r.family===4&&(s=s.filter(n=>n.family===4));if(r.hints&Qc){let{_iface:n}=this;s=s.filter(i=>i.family===6?n.has6:n.has4)}if(s.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?s:s[0]}async query(e){let r=await this._cache.get(e);if(!r){let s=this._pending[e];if(s)r=await s;else{let n=this.queryAndCache(e);this._pending[e]=n;try{r=await n}finally{delete this._pending[e]}}}return r=r.map(s=>({...s})),r}async _resolve(e){let[r,s]=await Promise.all([jt(this._resolve4(e,Jn)),jt(this._resolve6(e,Jn))]),n=0,i=0,o=0,a=Date.now();for(let h of r)h.family=4,h.expires=a+h.ttl*1e3,n=Math.max(n,h.ttl);for(let h of s)h.family=6,h.expires=a+h.ttl*1e3,i=Math.max(i,h.ttl);return r.length>0?s.length>0?o=Math.min(n,i):o=n:o=i,{entries:[...r,...s],cacheTtl:o}}async _lookup(e){try{let[r,s]=await Promise.all([jt(this._dnsLookup(e,nu)),jt(this._dnsLookup(e,iu))]);return{entries:[...r,...s],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,s){if(this.maxTtl>0&&s>0){s=Math.min(s,this.maxTtl)*1e3,r[Vn]=Date.now()+s;try{await this._cache.set(e,r,s)}catch(n){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=n,i}}ru(this._cache)&&this._tick(s)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,su);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let s=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,s),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let s=1/0,n=Date.now();for(let[i,o]of this._cache){let a=o[Vn];n>=a?this._cache.delete(i):a<s&&(s=a)}s!==1/0&&this._tick(s-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Wn(e),$e in e)throw new Error("CacheableLookup has been already installed");e[$e]=e.createConnection,e[Cr]=this,e.createConnection=(r,s)=>("lookup"in r||(r.lookup=this.lookup),e[$e](r,s))}uninstall(e){if(Wn(e),e[$e]){if(e[Cr]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[$e],delete e[$e],delete e[Cr]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Gn(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};kr.exports=Pr;kr.exports.default=Pr});var jr=E((ff,Qn)=>{"use strict";var Kn=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[s,n]of this.oldCache.entries())this.onEviction(s,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};Qn.exports=Kn});var Ar=E((df,Xn)=>{"use strict";Xn.exports=t=>{if(t.listenerCount("error")!==0)return;t.__destroy=t._destroy,t._destroy=(...r)=>{let s=r.pop();t.__destroy(...r,async n=>{await Promise.resolve(),s(n)})};let e=r=>{Promise.resolve().then(()=>{t.emit("error",r)})};return t.once("error",e),Promise.resolve().then(()=>{t.off("error",e)}),t}});var Re=E((pf,ni)=>{"use strict";var{URL:Zn}=require("url"),ou=require("events"),au=require("tls"),cu=require("http2"),uu=jr(),hu=Ar(),J=Symbol("currentStreamCount"),ei=Symbol("request"),Y=Symbol("cachedOriginSet"),be=Symbol("gracefullyClosing"),At=Symbol("length"),ti=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],lu=(t,e,r)=>{let s=0,n=t.length;for(;s<n;){let i=s+n>>>1;r(t[i],e)?s=i+1:n=i}return s},fu=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,qr=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];s[Y].length>0&&s[Y].length<e[Y].length&&s[Y].every(n=>e[Y].includes(n))&&s[J]+e[J]<=e.remoteSettings.maxConcurrentStreams&&si(s)}},ri=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];if(e[Y].length>0&&e[Y].length<s[Y].length&&e[Y].every(n=>s[Y].includes(n))&&e[J]+s[J]<=s.remoteSettings.maxConcurrentStreams)return si(e),!0}return!1},si=t=>{t[be]=!0,t[J]===0&&t.close()},ve=class extends ou{constructor({timeout:e=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:s=10,maxCachedTlsSessions:n=100}={}){super();this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxEmptySessions=s,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new uu({maxSize:n})}get protocol(){return"https:"}normalizeOptions(e){let r="";for(let s=0;s<ti.length;s++){let n=ti[s];r+=":",e&&e[n]!==void 0&&(r+=e[n])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let e in this.queue)for(let r in this.queue[e]){let s=this.queue[e][r];s.completed||(s.completed=!0,s())}}_isBetterSession(e,r){return e>r}_accept(e,r,s,n){let i=0;for(;i<r.length&&e[J]<e.remoteSettings.maxConcurrentStreams;)r[i].resolve(e),i++;r.splice(0,i),r.length>0&&(this.getSession(s,n,r),r.length=0)}getSession(e,r,s){return new Promise((n,i)=>{Array.isArray(s)&&s.length>0?(s=[...s],n()):s=[{resolve:n,reject:i}];try{if(typeof e=="string")e=new Zn(e);else if(!(e instanceof Zn))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:p}=r,{hostname:d}=e;if(p&&d!==p)throw new Error(`Origin ${d} differs from servername ${p}`)}}catch(p){for(let d=0;d<s.length;d++)s[d].reject(p);return}let o=this.normalizeOptions(r),a=e.origin;if(o in this.sessions){let p=this.sessions[o],d=-1,m=-1,y;for(let T=0;T<p.length;T++){let f=p[T],b=f.remoteSettings.maxConcurrentStreams;if(b<d)break;if(!f[Y].includes(a))continue;let C=f[J];C>=b||f[be]||f.destroyed||(y||(d=b),this._isBetterSession(C,m)&&(y=f,m=C))}if(y){this._accept(y,s,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...s);return}}else this.queue[o]={[At]:0};let h=()=>{o in this.queue&&this.queue[o][a]===l&&(delete this.queue[o][a],--this.queue[o][At]==0&&delete this.queue[o])},l=async()=>{this._sessionCount++;let p=`${a}:${o}`,d=!1,m;try{let y={...r};y.settings===void 0&&(y.settings=this.settings),y.session===void 0&&(y.session=this.tlsSessionCache.get(p)),m=await(y.createConnection||this.createConnection).call(this,e,y),y.createConnection=()=>m;let f=cu.connect(e,y);f[J]=0,f[be]=!1;let b=()=>{let{socket:x}=f,k;return x.servername===!1?(x.servername=x.remoteAddress,k=f.originSet,x.servername=!1):k=f.originSet,k},C=()=>f[J]<f.remoteSettings.maxConcurrentStreams;f.socket.once("session",x=>{this.tlsSessionCache.set(p,x)}),f.once("error",x=>{for(let k=0;k<s.length;k++)s[k].reject(x);this.tlsSessionCache.delete(p)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(this._sessionCount--,d){this._emptySessionCount--;let x=this.sessions[o];x.length===1?delete this.sessions[o]:x.splice(x.indexOf(f),1)}else{h();let x=new Error("Session closed without receiving a SETTINGS frame");x.code="HTTP2WRAPPER_NOSETTINGS";for(let k=0;k<s.length;k++)s[k].reject(x)}this._processQueue()});let j=()=>{let x=this.queue[o];if(!x)return;let k=f[Y];for(let M=0;M<k.length;M++){let V=k[M];if(V in x){let{listeners:U,completed:D}=x[V],oe=0;for(;oe<U.length&&C();)U[oe].resolve(f),oe++;if(x[V].listeners.splice(0,oe),x[V].listeners.length===0&&!D&&(delete x[V],--x[At]==0)){delete this.queue[o];break}if(!C())break}}};f.on("origin",()=>{f[Y]=b()||[],f[be]=!1,ri(this.sessions[o],f),!(f[be]||!C())&&(j(),!!C()&&qr(this.sessions[o],f))}),f.once("remoteSettings",()=>{if(l.destroyed){let x=new Error("Agent has been destroyed");for(let k=0;k<s.length;k++)s[k].reject(x);f.destroy();return}if(f.setLocalWindowSize&&f.setLocalWindowSize(1024*1024*4),f[Y]=b()||[],f.socket.encrypted){let x=f[Y][0];if(x!==a){let k=new Error(`Requested origin ${a} does not match server ${x}`);for(let M=0;M<s.length;M++)s[M].reject(k);f.destroy();return}}h();{let x=this.sessions;if(o in x){let k=x[o];k.splice(lu(k,f,fu),0,f)}else x[o]=[f]}d=!0,this._emptySessionCount++,this.emit("session",f),this._accept(f,s,a,r),f[J]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),f.on("remoteSettings",()=>{!C()||(j(),!!C()&&qr(this.sessions[o],f))})}),f[ei]=f.request,f.request=(x,k)=>{if(f[be])throw new Error("The session is gracefully closing. No new streams are allowed.");let M=f[ei](x,k);return f.ref(),f[J]++==0&&this._emptySessionCount--,M.once("close",()=>{if(--f[J]==0&&(this._emptySessionCount++,f.unref(),this._emptySessionCount>this.maxEmptySessions||f[be])){f.close();return}f.destroyed||f.closed||C()&&!ri(this.sessions[o],f)&&(qr(this.sessions[o],f),j(),f[J]===0&&this._processQueue())}),M}}catch(y){h(),this._sessionCount--;for(let T=0;T<s.length;T++)s[T].reject(y)}};l.listeners=s,l.completed=!1,l.destroyed=!1,this.queue[o][a]=l,this.queue[o][At]++,this._processQueue()})}request(e,r,s,n){return new Promise((i,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{let h=a.request(s,n);hu(h),i(h)}catch(h){o(h)}}}])})}async createConnection(e,r){return ve.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let s=e.port||443,n=e.hostname;typeof r.servername=="undefined"&&(r.servername=n);let i=au.connect(s,n,r);return r.socket&&(i._peername={family:void 0,address:void 0,port:s}),i}closeEmptySessions(e=Number.POSITIVE_INFINITY){let r=0,{sessions:s}=this;for(let n in s){let i=s[n];for(let o=0;o<i.length;o++){let a=i[o];if(a[J]===0&&(r++,a.close(),r>=e))return r}}return r}destroy(e){let{sessions:r,queue:s}=this;for(let n in r){let i=r[n];for(let o=0;o<i.length;o++)i[o].destroy(e)}for(let n in s){let i=s[n];for(let o in i)i[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};ve.kCurrentStreamCount=J;ve.kGracefullyClosing=be;ni.exports={Agent:ve,globalAgent:new ve}});var Dr=E((mf,oi)=>{"use strict";var{Readable:du}=require("stream"),ii=class extends du{constructor(e,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r});this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};oi.exports=ii});var ci=E((yf,ai)=>{"use strict";ai.exports=(t,e,r)=>{for(let s of r)t.on(s,(...n)=>e.emit(s,...n))}});var et=E((_f,ui)=>{"use strict";var Ce=(t,e,r)=>{ui.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n));this.name=`${super.name} [${e}]`,this.code=e}}};Ce(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${s?"one of":"of"} type ${r}. Received ${typeof t[2]}`});Ce(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);Ce(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);Ce(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);Ce(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);Ce(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`);Ce(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var li=E((bf,hi)=>{"use strict";hi.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var Lr=E((wf,fi)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:pu}=et(),mu=li(),yu=/^[\^`\-\w!#$%&*+.|~]+$/;fi.exports=t=>{if(typeof t!="string"||!yu.test(t)&&!mu(t))throw new pu("Header name",t)}});var $r=E((Ef,di)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:gu,ERR_INVALID_CHAR:_u}=et(),bu=/[^\t\u0020-\u007E\u0080-\u00FF]/;di.exports=(t,e)=>{if(typeof e=="undefined")throw new gu(e,t);if(bu.test(e))throw new _u("header content",t)}});var yi=E((Sf,mi)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:pi}=et(),wu={has(t,e){let r=t.session===void 0?t:t.session.socket;return e in t||e in r},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return t[e].bind(t);case"writable":case"destroyed":return t[e];case"readable":return t.destroyed?!1:t.readable;case"setTimeout":{let{session:r}=t;return r!==void 0?r.setTimeout.bind(r):t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new pi;default:{let r=t.session===void 0?t:t.session.socket,s=r[e];return typeof s=="function"?s.bind(r):s}}},getPrototypeOf(t){return t.session!==void 0?Reflect.getPrototypeOf(t.session.socket):Reflect.getPrototypeOf(t)},set(t,e,r){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=r,!0;case"setTimeout":{let{session:s}=t;return s===void 0?t.setTimeout=r:s.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new pi;default:{let s=t.session===void 0?t:t.session.socket;return s[e]=r,!0}}}};mi.exports=wu});var Nr=E((xf,xi)=>{"use strict";var{URL:Hr,urlToHttpOptions:gi}=require("url"),Eu=require("http2"),{Writable:Su}=require("stream"),{Agent:xu,globalAgent:Ou}=Re(),Tu=Dr(),vu=ci(),{ERR_INVALID_ARG_TYPE:qt,ERR_INVALID_PROTOCOL:Ru,ERR_HTTP_HEADERS_SENT:_i}=et(),Cu=Lr(),Pu=$r(),ku=yi(),{HTTP2_HEADER_STATUS:bi,HTTP2_HEADER_METHOD:wi,HTTP2_HEADER_PATH:Ei,HTTP2_HEADER_AUTHORITY:tt,HTTP2_METHOD_CONNECT:ju}=Eu.constants,F=Symbol("headers"),He=Symbol("origin"),rt=Symbol("session"),Ir=Symbol("options"),Dt=Symbol("flushedHeaders"),st=Symbol("jobs"),nt=Symbol("pendingAgentPromise"),Si=class extends Su{constructor(e,r,s){super({autoDestroy:!1,emitClose:!1});if(typeof e=="string"?e=gi(new Hr(e)):e instanceof Hr?e=gi(e):e={...e},typeof r=="function"||r===void 0?(s=r,r=e):r=Object.assign(e,r),r.h2session){if(this[rt]=r.h2session,this[rt].destroyed)throw new Error("The session has been closed already");this.protocol=this[rt].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new xu({maxEmptySessions:0});else if(typeof r.agent=="undefined"||r.agent===null)this.agent=Ou;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new qt("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new Ru(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:n}=r;r.timeout=void 0,this[F]=Object.create(null),this[st]=[],this[nt]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:i}=r;if(i)for(let a in i)this.setHeader(a,i[a]);r.auth&&!("authorization"in this[F])&&(this[F].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[Ir]=r,this[He]=new Hr(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[He],this[Ir]).catch(()=>{})),n&&this.setTimeout(n),s&&this.once("response",s),this[Dt]=!1}get method(){return this[F][wi]}set method(e){e&&(this[F][wi]=e.toUpperCase())}get path(){let e=this.method==="CONNECT"?tt:Ei;return this[F][e]}set path(e){if(e){let r=this.method==="CONNECT"?tt:Ei;this[F][r]=e}}get host(){return this[He].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,s){if(this._mustNotHaveABody){s(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,s);this._request?n():this[st].push(n)}_final(e){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};this._request?r():this[st].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(e,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[nt]}catch(s){this.aborted&&(e=s)}r(e)}async flushHeaders(){if(this[Dt]||this.destroyed)return;this[Dt]=!0;let e=this.method===ju,r=s=>{if(this._request=s,this.destroyed){s.destroy();return}e||vu(s,this,["timeout","continue"]),s.once("error",i=>{this.destroy(i)}),s.once("aborted",()=>{let{res:i}=this;i?(i.aborted=!0,i.emit("aborted"),i.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let n=(i,o,a)=>{let h=new Tu(this.socket,s.readableHighWaterMark);this.res=h,h.url=`${this[He].origin}${this.path}`,h.req=this,h.statusCode=i[bi],h.headers=i,h.rawHeaders=a,h.once("end",()=>{h.complete=!0,h.socket=null,h.connection=null}),e?(h.upgrade=!0,this.emit("connect",h,s,Buffer.alloc(0))?this.emit("close"):s.destroy()):(s.on("data",l=>{!h._dumped&&!h.push(l)&&s.pause()}),s.once("end",()=>{this.aborted||h.push(null)}),this.emit("response",h)||h._dump())};s.once("response",n),s.once("headers",i=>this.emit("information",{statusCode:i[bi]})),s.once("trailers",(i,o,a)=>{let{res:h}=this;if(h===null){n(i,o,a);return}h.trailers=i,h.rawTrailers=a}),s.once("close",()=>{let{aborted:i,res:o}=this;if(o){i&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(s,ku);for(let i of this[st])i();this.emit("socket",this.socket)};if(!(tt in this[F])&&!e&&(this[F][tt]=this[He].host),this[rt])try{r(this[rt].request(this[F]))}catch(s){this.destroy(s)}else{this.reusedSocket=!0;try{let s=this.agent.request(this[He],this[Ir],this[F]);this[nt]=s,r(await s),this[nt]=!1}catch(s){this[nt]=!1,this.destroy(s)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[F])}hasHeader(e){if(typeof e!="string")throw new qt("name","string",e);return Boolean(this[F][e.toLowerCase()])}getHeader(e){if(typeof e!="string")throw new qt("name","string",e);return this[F][e.toLowerCase()]}get headersSent(){return this[Dt]}removeHeader(e){if(typeof e!="string")throw new qt("name","string",e);if(this.headersSent)throw new _i("remove");delete this[F][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new _i("set");Cu(e),Pu(e,r);let s=e.toLowerCase();if(s==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}s==="host"&&this.method==="CONNECT"?this[F][tt]=r:this[F][s]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let s=()=>this._request.setTimeout(e,r);return this._request?s():this[st].push(s),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};xi.exports=Si});var Ti=E((Of,Oi)=>{"use strict";var Au=require("tls");Oi.exports=(t={},e=Au.connect)=>new Promise((r,s)=>{let n=!1,i,o=async()=>{await h,i.off("timeout",a),i.off("error",s),t.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:n}),n&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},h=(async()=>{try{i=await e(t,o),i.on("error",s),i.once("timeout",a)}catch(l){s(l)}})()})});var Ri=E((Tf,vi)=>{"use strict";var{isIP:qu}=require("net"),Du=require("assert"),Lu=t=>{if(t[0]==="["){let r=t.indexOf("]");return Du(r!==-1),t.slice(1,r)}let e=t.indexOf(":");return e===-1?t:t.slice(0,e)};vi.exports=t=>{let e=Lu(t);return qu(e)?"":e}});var Li=E((vf,it)=>{"use strict";var{URL:Ci,urlToHttpOptions:Pi}=require("url"),ki=require("http"),Mr=require("https"),$u=Ti(),Hu=jr(),{Agent:Iu,globalAgent:Nu}=Re(),Mu=Nr(),Uu=Ri(),ji=Ar(),Ai=new Hu({maxSize:100}),Bu=new Map,zu=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let s=()=>{t.emit("free",e,r)};e.on("free",s);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let i=()=>{let{freeSockets:a}=t;for(let h of Object.values(a))if(h.includes(e)){e.destroy();return}};e.on("timeout",i);let o=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",s),e.off("timeout",i),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},qi=(t,e=new Map,r=void 0)=>async s=>{let n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!t.has(n)){if(e.has(n))return{alpnProtocol:(await e.get(n)).alpnProtocol};let{path:i}=s;s.path=s.socketPath;let o=$u(s,r);e.set(n,o);try{let a=await o;return t.set(n,a.alpnProtocol),e.delete(n),s.path=i,a}catch(a){throw e.delete(n),s.path=i,a}}return{alpnProtocol:t.get(n)}},Di=qi(Ai,Bu);it.exports=async(t,e,r)=>{if(typeof t=="string"?t=Pi(new Ci(t)):t instanceof Ci?t=Pi(t):t={...t},typeof e=="function"||e===void 0?(r=e,e=t):e=Object.assign(t,e),e.ALPNProtocols=e.ALPNProtocols||["h2","http/1.1"],!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let s=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||Uu(e.headers&&e.headers.host||e.host),e.port=e.port||(s?443:80),e._defaultAgent=s?Mr.globalAgent:ki.globalAgent;let n=e.resolveProtocol||Di,{agent:i}=e;if(i!==void 0&&i!==!1&&i.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(s){e.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:h}=await n(e);if(h){o&&o.destroy();let p=new Error(`Timed out resolving ALPN: ${e.timeout} ms`);throw p.code="ETIMEDOUT",p.ms=e.timeout,p}o&&e.createConnection&&(o.destroy(),o=void 0),delete e.resolveSocket;let l=a==="h2";if(i&&(i=l?i.http2:i.https,e.agent=i),i===void 0&&(i=l?Nu:Mr.globalAgent),o)if(i===!1)o.destroy();else{let p=(l?Iu:Mr.Agent).prototype.createConnection;i.createConnection===p?l?e._reuseSocket=o:zu(i,o,e):o.destroy()}if(l)return ji(new Mu(e,r))}else i&&(e.agent=i.http);return ji(ki.request(e,r))};it.exports.protocolCache=Ai;it.exports.resolveProtocol=Di;it.exports.createResolveProtocol=qi});var Ur=E((Rf,$i)=>{"use strict";var Fu=require("stream"),Vu=require("tls"),Wu=new Vu.TLSSocket(new Fu.PassThrough)._handle._parentWrap.constructor;$i.exports=Wu});var Br=E((Cf,Ii)=>{"use strict";var Hi=class extends Error{constructor(e){super(`The proxy server rejected the request with status code ${e}`);this.statusCode=e}};Ii.exports=Hi});var Mi=E((Pf,Ni)=>{"use strict";var Gu=(t,e,r)=>{if(!r.some(n=>typeof n==="string"?typeof e===n:e instanceof n)){let n=r.map(i=>typeof i=="string"?i:i.name);throw new TypeError(`Expected '${t}' to be a type of ${n.join(" or ")}, got ${typeof e}`)}};Ni.exports=Gu});var zr=E((kf,Bi)=>{"use strict";var{URL:Ui}=require("url"),Lt=Mi();Bi.exports=(t,e)=>{Lt("proxyOptions",e,["object"]),Lt("proxyOptions.headers",e.headers,["object","undefined"]),Lt("proxyOptions.raw",e.raw,["boolean","undefined"]),Lt("proxyOptions.url",e.url,[Ui,"string"]);let r=new Ui(e.url);t.proxyOptions={raw:!0,...e,headers:{...e.headers},url:r}}});var $t=E((jf,zi)=>{"use strict";zi.exports=t=>{let{username:e,password:r}=t.proxyOptions.url;if(e||r){let s=`${e}:${r}`,n=`Basic ${Buffer.from(s).toString("base64")}`;return{"proxy-authorization":n,authorization:n}}return{}}});var Ki=E((Af,Yi)=>{"use strict";var Ju=require("tls"),Yu=require("http"),Fi=require("https"),Ku=Ur(),{globalAgent:Qu}=Re(),Xu=Br(),Vi=zr(),Zu=$t(),Wi=(t,e,r)=>{(async()=>{try{let{proxyOptions:s}=t,{url:n,headers:i,raw:o}=s,a=await Qu.request(n,s,{...Zu(t),...i,":method":"CONNECT",":authority":`${e.host}:${e.port}`});a.once("error",r),a.once("response",h=>{let l=h[":status"];if(l!==200){r(new Xu(l));return}let p=t instanceof Fi.Agent;if(o&&p){e.socket=a;let m=Ju.connect(e);m.once("close",()=>{a.destroy()}),r(null,m);return}let d=new Ku(a);d.encrypted=!1,d._handle.getpeername=m=>{m.family=void 0,m.address=void 0,m.port=void 0},r(null,d)})}catch(s){r(s)}})()},Gi=class extends Yu.Agent{constructor(e){super(e);Vi(this,e.proxyOptions)}createConnection(e,r){Wi(this,e,r)}},Ji=class extends Fi.Agent{constructor(e){super(e);Vi(this,e.proxyOptions)}createConnection(e,r){Wi(this,e,r)}};Yi.exports={HttpOverHttp2:Gi,HttpsOverHttp2:Ji}});var Fr=E((qf,Xi)=>{"use strict";var{Agent:eh}=Re(),th=Ur(),rh=Br(),sh=zr(),Qi=class extends eh{constructor(e){super(e);sh(this,e.proxyOptions)}async createConnection(e,r){let s=`${e.hostname}:${e.port||443}`,[n,i]=await this._getProxyStream(s);if(i!==200)throw new rh(i);if(this.proxyOptions.raw)r.socket=n;else{let o=new th(n);return o.encrypted=!1,o._handle.getpeername=a=>{a.family=void 0,a.address=void 0,a.port=void 0},o}return super.createConnection(e,r)}};Xi.exports=Qi});var to=E((Df,eo)=>{"use strict";var{globalAgent:nh}=Re(),ih=Fr(),oh=$t(),ah=t=>new Promise((e,r)=>{t.once("error",r),t.once("response",s=>{t.off("error",r),e(s[":status"])})}),Zi=class extends ih{async _getProxyStream(e){let{proxyOptions:r}=this,s={...oh(this),...r.headers,":method":"CONNECT",":authority":e},n=await nh.request(r.url,r,s),i=await ah(n);return[n,i]}};eo.exports=Zi});var so=E((Lf,ro)=>{"use strict";var ch=require("http"),uh=require("https"),hh=Fr(),lh=$t(),fh=t=>new Promise((e,r)=>{let s=(n,i,o)=>{i.unshift(o),t.off("error",r),e([i,n.statusCode])};t.once("error",r),t.once("connect",s)}),Vr=class extends hh{async _getProxyStream(e){let{proxyOptions:r}=this,{url:s,headers:n}=this.proxyOptions,o=(s.protocol==="https:"?uh:ch).request({...r,hostname:s.hostname,port:s.port,path:e,headers:{...lh(this),...n,host:e},method:"CONNECT"}).end();return fh(o)}};ro.exports={Http2OverHttp:Vr,Http2OverHttps:Vr}});var io=E(($f,no)=>{"use strict";var dh=require("http2"),{Agent:ph,globalAgent:mh}=Re(),Wr=Nr(),yh=Dr(),gh=Li(),{HttpOverHttp2:_h,HttpsOverHttp2:bh}=Ki(),wh=to(),{Http2OverHttp:Eh,Http2OverHttps:Sh}=so(),xh=Lr(),Oh=$r(),Th=(t,e,r)=>new Wr(t,e,r),vh=(t,e,r)=>{let s=new Wr(t,e,r);return s.end(),s};no.exports={...dh,ClientRequest:Wr,IncomingMessage:yh,Agent:ph,globalAgent:mh,request:Th,get:vh,auto:gh,proxies:{HttpOverHttp2:_h,HttpsOverHttp2:bh,Http2OverHttp2:wh,Http2OverHttp:Eh,Http2OverHttps:Sh},validateHeaderName:xh,validateHeaderValue:Oh}});var So=E((rs,ss)=>{(function(t,e){typeof rs=="object"&&typeof ss!="undefined"?ss.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(rs,function(){"use strict";var t=1e3,e=6e4,r=36e5,s="millisecond",n="second",i="minute",o="hour",a="day",h="week",l="month",p="quarter",d="year",m="date",y="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},C=function(v,S,_){var R=String(v);return!R||R.length>=S?v:""+Array(S+1-R.length).join(_)+v},j={s:C,z:function(v){var S=-v.utcOffset(),_=Math.abs(S),R=Math.floor(_/60),w=_%60;return(S<=0?"+":"-")+C(R,2,"0")+":"+C(w,2,"0")},m:function v(S,_){if(S.date()<_.date())return-v(_,S);var R=12*(_.year()-S.year())+(_.month()-S.month()),w=S.clone().add(R,l),A=_-w<0,P=S.clone().add(R+(A?-1:1),l);return+(-(R+(_-w)/(A?w-P:P-w))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:l,y:d,w:h,d:a,D:m,h:o,m:i,s:n,ms:s,Q:p}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},x="en",k={};k[x]=b;var M=function(v){return v instanceof oe},V=function(v,S,_){var R;if(!v)return x;if(typeof v=="string")k[v]&&(R=v),S&&(k[v]=S,R=v);else{var w=v.name;k[w]=v,R=w}return!_&&R&&(x=R),R||!_&&x},U=function(v,S){if(M(v))return v.clone();var _=typeof S=="object"?S:{};return _.date=v,_.args=arguments,new oe(_)},D=j;D.l=V,D.i=M,D.w=function(v,S){return U(v,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var oe=function(){function v(_){this.$L=V(_.locale,null,!0),this.parse(_)}var S=v.prototype;return S.parse=function(_){this.$d=function(R){var w=R.date,A=R.utc;if(w===null)return new Date(NaN);if(D.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var P=w.match(T);if(P){var H=P[2]-1||0,z=(P[7]||"0").substring(0,3);return A?new Date(Date.UTC(P[1],H,P[3]||1,P[4]||0,P[5]||0,P[6]||0,z)):new Date(P[1],H,P[3]||1,P[4]||0,P[5]||0,P[6]||0,z)}}return new Date(w)}(_),this.$x=_.x||{},this.init()},S.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},S.$utils=function(){return D},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(_,R){var w=U(_);return this.startOf(R)<=w&&w<=this.endOf(R)},S.isAfter=function(_,R){return U(_)<this.startOf(R)},S.isBefore=function(_,R){return this.endOf(R)<U(_)},S.$g=function(_,R,w){return D.u(_)?this[R]:this.set(w,_)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(_,R){var w=this,A=!!D.u(R)||R,P=D.p(_),H=function(Pe,X){var pe=D.w(w.$u?Date.UTC(w.$y,X,Pe):new Date(w.$y,X,Pe),w);return A?pe:pe.endOf(a)},z=function(Pe,X){return D.w(w.toDate()[Pe].apply(w.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(X)),w)},N=this.$W,W=this.$M,de=this.$D,ae="set"+(this.$u?"UTC":"");switch(P){case d:return A?H(1,0):H(31,11);case l:return A?H(1,W):H(0,W+1);case h:var Ne=this.$locale().weekStart||0,Me=(N<Ne?N+7:N)-Ne;return H(A?de-Me:de+(6-Me),W);case a:case m:return z(ae+"Hours",0);case o:return z(ae+"Minutes",1);case i:return z(ae+"Seconds",2);case n:return z(ae+"Milliseconds",3);default:return this.clone()}},S.endOf=function(_){return this.startOf(_,!1)},S.$set=function(_,R){var w,A=D.p(_),P="set"+(this.$u?"UTC":""),H=(w={},w[a]=P+"Date",w[m]=P+"Date",w[l]=P+"Month",w[d]=P+"FullYear",w[o]=P+"Hours",w[i]=P+"Minutes",w[n]=P+"Seconds",w[s]=P+"Milliseconds",w)[A],z=A===a?this.$D+(R-this.$W):R;if(A===l||A===d){var N=this.clone().set(m,1);N.$d[H](z),N.init(),this.$d=N.set(m,Math.min(this.$D,N.daysInMonth())).$d}else H&&this.$d[H](z);return this.init(),this},S.set=function(_,R){return this.clone().$set(_,R)},S.get=function(_){return this[D.p(_)]()},S.add=function(_,R){var w,A=this;_=Number(_);var P=D.p(R),H=function(W){var de=U(A);return D.w(de.date(de.date()+Math.round(W*_)),A)};if(P===l)return this.set(l,this.$M+_);if(P===d)return this.set(d,this.$y+_);if(P===a)return H(1);if(P===h)return H(7);var z=(w={},w[i]=e,w[o]=r,w[n]=t,w)[P]||1,N=this.$d.getTime()+_*z;return D.w(N,this)},S.subtract=function(_,R){return this.add(-1*_,R)},S.format=function(_){var R=this,w=this.$locale();if(!this.isValid())return w.invalidDate||y;var A=_||"YYYY-MM-DDTHH:mm:ssZ",P=D.z(this),H=this.$H,z=this.$m,N=this.$M,W=w.weekdays,de=w.months,ae=function(X,pe,Ut,ut){return X&&(X[pe]||X(R,A))||Ut[pe].substr(0,ut)},Ne=function(X){return D.s(H%12||12,X,"0")},Me=w.meridiem||function(X,pe,Ut){var ut=X<12?"AM":"PM";return Ut?ut.toLowerCase():ut},Pe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:N+1,MM:D.s(N+1,2,"0"),MMM:ae(w.monthsShort,N,de,3),MMMM:ae(de,N),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:ae(w.weekdaysMin,this.$W,W,2),ddd:ae(w.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(H),HH:D.s(H,2,"0"),h:Ne(1),hh:Ne(2),a:Me(H,z,!0),A:Me(H,z,!1),m:String(z),mm:D.s(z,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:P};return A.replace(f,function(X,pe){return pe||Pe[X]||P.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(_,R,w){var A,P=D.p(R),H=U(_),z=(H.utcOffset()-this.utcOffset())*e,N=this-H,W=D.m(this,H);return W=(A={},A[d]=W/12,A[l]=W,A[p]=W/3,A[h]=(N-z)/6048e5,A[a]=(N-z)/864e5,A[o]=N/r,A[i]=N/e,A[n]=N/t,A)[P]||N,w?W:D.a(W)},S.daysInMonth=function(){return this.endOf(l).$D},S.$locale=function(){return k[this.$L]},S.locale=function(_,R){if(!_)return this.$L;var w=this.clone(),A=V(_,R,!0);return A&&(w.$L=A),w},S.clone=function(){return D.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},v}(),ns=oe.prototype;return U.prototype=ns,[["$ms",s],["$s",n],["$m",i],["$H",o],["$W",a],["$M",l],["$y",d],["$D",m]].forEach(function(v){ns[v[1]]=function(S){return this.$g(S,v[0],v[1])}}),U.extend=function(v,S){return v.$i||(v(S,oe,U),v.$i=!0),U},U.locale=V,U.isDayjs=M,U.unix=function(v){return U(1e3*v)},U.en=k[x],U.Ls=k,U.p={},U})});var se=q(Gt());var Q=q(he());var bo=q(require("node:events")),Ie=q(he());var Us=class extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}},Se=class{static fn(e){return(...r)=>new Se((s,n,i)=>{r.push(i),e(...r).then(s,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,s)=>{this._reject=s;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,s(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,i,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new Us(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Se.prototype,Promise.prototype);var gt=q(he());function Ma(t){return gt.default.object(t)&&"_onResponse"in t}var B=class extends Error{constructor(e,r,s){super(e);if(Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,Ma(s)?(Object.defineProperty(this,"request",{enumerable:!1,value:s}),Object.defineProperty(this,"response",{enumerable:!1,value:s.response}),this.options=s.options):this.options=s,this.timings=this.request?.timings,gt.default.string(r.stack)&&gt.default.string(this.stack)){let n=this.stack.indexOf(this.message)+this.message.length,i=this.stack.slice(n).split(`
`).reverse(),o=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;o.length>0&&o[0]===i[0];)i.shift();this.stack=`${this.stack.slice(0,n)}${i.reverse().join(`
`)}${o.reverse().join(`
`)}`}}},Yt=class extends B{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e);this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},ge=class extends B{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request);this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},Kt=class extends B{constructor(e,r){super(e.message,e,r);this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},_t=class extends B{constructor(e,r){super(e.message,e,r);this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},Qt=class extends B{constructor(e,r,s){super(e.message,e,s);Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},bt=class extends B{constructor(e,r){super(e.message,e,r);this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},Xt=class extends B{constructor(e){super("Retrying",{},e);this.name="RetryError",this.code="ERR_RETRYING"}};var Kr=q(require("node:process")),It=q(require("node:buffer")),yo=q(require("node:stream")),Nt=q(require("node:url")),ct=q(require("node:http"));var zs=q(require("events")),Fs=q(require("util")),Vs=q(Bs()),Ba=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=o=>{o.once(zs.errorMonitor,()=>{e.error=Date.now(),e.phases.total=e.error-e.start})};r(t);let s=()=>{e.abort=Date.now(),e.phases.total=e.abort-e.start};t.prependOnceListener("abort",s);let n=o=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,Fs.types.isProxy(o))return;let a=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};o.prependOnceListener("lookup",a),(0,Vs.default)(o,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(o.removeListener("lookup",a),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let i=()=>{e.upload=Date.now(),e.phases.request=e.upload-(e.secureConnect??e.connect)};return t.writableFinished?i():t.prependOnceListener("finish",i),t.prependOnceListener("response",o=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,o.timings=e,r(o),o.prependOnceListener("end",()=>{t.off("abort",s),o.off("aborted",s),!e.phases.total&&(e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start)}),o.prependOnceListener("aborted",s)}),e},Ws=Ba;var Qr=q(Cn()),go=q(An()),$=q(he()),_o=q(Ln());var $n="abcdefghijklmnopqrstuvwxyz0123456789";function Uc(){let t=16,e="";for(;t--;)e+=$n[Math.random()*$n.length<<0];return e}var Hn=Uc;var Bc=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function zc(t){if(Bc(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}var pr=zc;var Fc=t=>String(t).replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`),mr=Fc;var Vc=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),yr=Vc;var Wc=t=>typeof t=="function",le=Wc;var Oe=t=>Boolean(t&&typeof t=="object"&&le(t.constructor)&&t[Symbol.toStringTag]==="File"&&le(t.stream)&&t.name!=null&&t.size!=null&&t.lastModified!=null);var gr=t=>Boolean(t&&le(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&le(t.append)&&le(t.getAll)&&le(t.entries)&&le(t[Symbol.iterator])),Ot=gr;var Ge=function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},I=function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},Tt,_e,Je,vt,Ye,Te,Ke,Qe,Rt,_r,Gc={enableAdditionalHeaders:!1},br=class{constructor(e,r,s){if(Tt.add(this),_e.set(this,`\r
`),Je.set(this,void 0),vt.set(this,void 0),Ye.set(this,"-".repeat(2)),Te.set(this,new TextEncoder),Ke.set(this,void 0),Qe.set(this,void 0),Rt.set(this,void 0),!gr(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if(pr(r)?s=r:n=r,n||(n=Hn()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(s&&!pr(s))throw new TypeError("Expected options argument to be an object.");Ge(this,Qe,e,"f"),Ge(this,Rt,{...Gc,...s},"f"),Ge(this,Je,I(this,Te,"f").encode(I(this,_e,"f")),"f"),Ge(this,vt,I(this,Je,"f").byteLength,"f"),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,Ge(this,Ke,I(this,Te,"f").encode(`${I(this,Ye,"f")}${this.boundary}${I(this,Ye,"f")}${I(this,_e,"f").repeat(2)}`),"f"),this.contentLength=String(this.getContentLength()),this.headers=Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength}),Object.defineProperties(this,{boundary:{writable:!1,configurable:!1},contentType:{writable:!1,configurable:!1},contentLength:{writable:!1,configurable:!1},headers:{writable:!1,configurable:!1}})}getContentLength(){let e=0;for(let[r,s]of I(this,Qe,"f")){let n=Oe(s)?s:I(this,Te,"f").encode(mr(s));e+=I(this,Tt,"m",_r).call(this,r,n).byteLength,e+=Oe(n)?n.size:n.byteLength,e+=I(this,vt,"f")}return e+I(this,Ke,"f").byteLength}*values(){for(let[e,r]of I(this,Qe,"f").entries()){let s=Oe(r)?r:I(this,Te,"f").encode(mr(r));yield I(this,Tt,"m",_r).call(this,e,s),yield s,yield I(this,Je,"f")}yield I(this,Ke,"f")}async*encode(){for(let e of this.values())Oe(e)?yield*e.stream():yield e}[(_e=new WeakMap,Je=new WeakMap,vt=new WeakMap,Ye=new WeakMap,Te=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Rt=new WeakMap,Tt=new WeakSet,_r=function(r,s){let n="";return n+=`${I(this,Ye,"f")}${this.boundary}${I(this,_e,"f")}`,n+=`Content-Disposition: form-data; name="${yr(r)}"`,Oe(s)&&(n+=`; filename="${yr(s.name)}"${I(this,_e,"f")}`,n+=`Content-Type: ${s.type||"application/octet-stream"}`),I(this,Rt,"f").enableAdditionalHeaders===!0&&(n+=`${I(this,_e,"f")}Content-Length: ${Oe(s)?s.size:s.byteLength}`),I(this,Te,"f").encode(`${n}${I(this,_e,"f").repeat(2)}`)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};var In=q(require("node:buffer")),Nn=q(require("node:util")),Er=q(he());var wr=q(he());function Xe(t){return wr.default.nodeStream(t)&&wr.default.function_(t.getBoundary)}async function Sr(t,e){if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(Er.default.string(t))return In.Buffer.byteLength(t);if(Er.default.buffer(t))return t.length;if(Xe(t))return(0,Nn.promisify)(t.getLength.bind(t))()}function Ze(t,e,r){let s={};for(let n of r){let i=(...o)=>{e.emit(n,...o)};s[n]=i,t.on(n,i)}return()=>{for(let[n,i]of Object.entries(s))t.off(n,i)}}var Mn=q(require("node:net"));function xr(){let t=[];return{once(e,r,s){e.once(r,s),t.push({origin:e,event:r,fn:s})},unhandleAll(){for(let e of t){let{origin:r,event:s,fn:n}=e;r.removeListener(s,n)}t.length=0}}}var Un=Symbol("reentry"),Jc=()=>{},Ct=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`);Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function Or(t,e,r){if(Un in t)return Jc;t[Un]=!0;let s=[],{once:n,unhandleAll:i}=xr(),o=(f,b,C)=>{let j=setTimeout(b,f,f,C);j.unref?.();let x=()=>{clearTimeout(j)};return s.push(x),x},{host:a,hostname:h}=r,l=(f,b)=>{t.destroy(new Ct(f,b))},p=()=>{for(let f of s)f();i()};if(t.once("error",f=>{if(p(),t.listenerCount("error")===0)throw f}),typeof e.request!="undefined"){let f=o(e.request,l,"request");n(t,"response",b=>{n(b,"end",f)})}if(typeof e.socket!="undefined"){let{socket:f}=e,b=()=>{l(f,"socket")};t.setTimeout(f,b),s.push(()=>{t.removeListener("timeout",b)})}let d=typeof e.lookup!="undefined",m=typeof e.connect!="undefined",y=typeof e.secureConnect!="undefined",T=typeof e.send!="undefined";return(d||m||y||T)&&n(t,"socket",f=>{let{socketPath:b}=t;if(f.connecting){let C=Boolean(b??Mn.default.isIP(h??a??"")!==0);if(d&&!C&&typeof f.address().address=="undefined"){let j=o(e.lookup,l,"lookup");n(f,"lookup",j)}if(m){let j=()=>o(e.connect,l,"connect");C?n(f,"connect",j()):n(f,"lookup",x=>{x===null&&n(f,"connect",j())})}y&&r.protocol==="https:"&&n(f,"connect",()=>{let j=o(e.secureConnect,l,"secureConnect");n(f,"secureConnect",j)})}if(T){let C=()=>o(e.send,l,"send");f.connecting?n(f,"connect",()=>{n(t,"upload-complete",C())}):n(t,"upload-complete",C())}}),typeof e.response!="undefined"&&n(t,"upload-complete",()=>{let f=o(e.response,l,"response");n(t,"response",f)}),typeof e.read!="undefined"&&n(t,"response",f=>{let b=o(e.read,l,"read");n(f,"end",b)}),p}var Tr=q(he());function vr(t){t=t;let e={protocol:t.protocol,hostname:Tr.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return Tr.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}var Pt=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};var Yc=({attemptCount:t,retryOptions:e,error:r,retryAfter:s,computedValue:n})=>{if(r.name==="RetryError")return 1;if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),a=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!a)return 0;if(r.response){if(s)return s>n?0:s;if(r.response.statusCode===413)return 0}let h=Math.random()*e.noise;return Math.min(2**(t-1)*1e3,e.backoffLimit)+h},Bn=Yc;var oo=q(require("node:process")),ot=q(require("node:util")),fe=q(require("node:url")),ao=q(require("node:tls")),co=q(require("node:http")),uo=q(require("node:https")),c=q(he());function kt(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLowerCase(),r]))}var ho=q(Yn()),lo=q(io());function Gr(t){let e=[],r=t.split(",");for(let s of r){let[n,...i]=s.split(";"),o=n.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),h={};if(i.length===0)throw new Error(`Unexpected end of Link header parameters: ${i.join(";")}`);for(let l of i){let p=l.trim(),d=p.indexOf("=");if(d===-1)throw new Error(`Failed to parse Link header: ${t}`);let m=p.slice(0,d).trim(),y=p.slice(d+1).trim();h[m]=y}e.push({reference:a,parameters:h})}return e}var[fo,Rh]=oo.default.versions.node.split(".").map(t=>Number(t));function Ch(t){for(let e in t){let r=t[e];c.assert.any([c.default.string,c.default.number,c.default.boolean,c.default.null_,c.default.undefined],r)}}var Ph=new Map,Ht,kh=()=>Ht||(Ht=new ho.default,Ht),jh={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:({response:t})=>{let e=t.headers.link;if(typeof e!="string"||e.trim()==="")return!1;let s=Gr(e).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return s?{url:new fe.URL(s.reference,t.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0},Ah=t=>{let{hooks:e,retry:r}=t,s={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...e.init],beforeRequest:[...e.beforeRequest],beforeError:[...e.beforeError],beforeRedirect:[...e.beforeRedirect],beforeRetry:[...e.beforeRetry],afterResponse:[...e.afterResponse]},searchParams:t.searchParams?new fe.URLSearchParams(t.searchParams):void 0,pagination:{...t.pagination}};return s.url!==void 0&&(s.prefixUrl=""),s},qh=t=>{let{hooks:e,retry:r}=t,s={...t};return c.default.object(t.context)&&(s.context={...t.context}),c.default.object(t.cacheOptions)&&(s.cacheOptions={...t.cacheOptions}),c.default.object(t.https)&&(s.https={...t.https}),c.default.object(t.cacheOptions)&&(s.cacheOptions={...s.cacheOptions}),c.default.object(t.agent)&&(s.agent={...t.agent}),c.default.object(t.headers)&&(s.headers={...t.headers}),c.default.object(r)&&(s.retry={...r},c.default.array(r.errorCodes)&&(s.retry.errorCodes=[...r.errorCodes]),c.default.array(r.methods)&&(s.retry.methods=[...r.methods]),c.default.array(r.statusCodes)&&(s.retry.statusCodes=[...r.statusCodes])),c.default.object(t.timeout)&&(s.timeout={...t.timeout}),c.default.object(e)&&(s.hooks={...e},c.default.array(e.init)&&(s.hooks.init=[...e.init]),c.default.array(e.beforeRequest)&&(s.hooks.beforeRequest=[...e.beforeRequest]),c.default.array(e.beforeError)&&(s.hooks.beforeError=[...e.beforeError]),c.default.array(e.beforeRedirect)&&(s.hooks.beforeRedirect=[...e.beforeRedirect]),c.default.array(e.beforeRetry)&&(s.hooks.beforeRetry=[...e.beforeRetry]),c.default.array(e.afterResponse)&&(s.hooks.afterResponse=[...e.afterResponse])),c.default.object(t.pagination)&&(s.pagination={...t.pagination}),s},Dh=t=>{let e=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter(r=>typeof r=="number");if(e.length>0)return Math.min(...e)},po=(t,e,r)=>{let s=t.hooks?.init;if(s)for(let n of s)n(e,r)},K=class{constructor(e,r,s){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c.assert.any([c.default.string,c.default.urlInstance,c.default.object,c.default.undefined],e),c.assert.any([c.default.object,c.default.undefined],r),c.assert.any([c.default.object,c.default.undefined],s),e instanceof K||r instanceof K)throw new TypeError("The defaults must be passed as the third argument");this._internals=Ah(s?._internals??s??jh),this._init=[...s?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(c.default.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(n){throw n.options=this,n}}merge(e){if(!!e){if(e instanceof K){for(let r of e._init)this.merge(r);return}e=qh(e),po(this,e,this),po(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let s in e)if(!(s==="mutableDefaults"||s==="handlers")&&s!=="url"){if(!(s in this))throw new Error(`Unexpected option: ${s}`);this[s]=e[s],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){c.assert.any([c.default.function_,c.default.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){c.assert.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);c.assert.any([c.default.object,c.default.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){c.assert.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){c.assert.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);c.assert.any([c.default.number,c.default.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(c.assert.any([c.default.string,c.default.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){c.assert.any([c.default.string,c.default.buffer,c.default.nodeStream,c.default.generator,c.default.asyncGenerator,Ot,c.default.undefined],e),c.default.nodeStream(e)&&c.assert.truthy(e.readable),e!==void 0&&(c.assert.undefined(this._internals.form),c.assert.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){c.assert.any([c.default.plainObject,c.default.undefined],e),e!==void 0&&(c.assert.undefined(this._internals.body),c.assert.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){c.assert.any([c.default.object,c.default.undefined],e),e!==void 0&&(c.assert.undefined(this._internals.body),c.assert.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(c.assert.any([c.default.string,c.default.urlInstance,c.default.undefined],e),e===void 0){this._internals.url=void 0;return}if(c.default.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,s=new fe.URL(r);if(this._internals.url=s,decodeURI(r),s.protocol==="unix:"&&(s.href=`http://unix${s.pathname}${s.search}`),s.protocol!=="http:"&&s.protocol!=="https:"){let n=new Error(`Unsupported protocol: ${s.protocol}`);throw n.code="ERR_UNSUPPORTED_PROTOCOL",n}if(this._internals.username&&(s.username=this._internals.username,this._internals.username=""),this._internals.password&&(s.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(s.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),s.hostname==="unix"){let n=/(?<socketPath>.+?):(?<path>.+)/.exec(`${s.pathname}${s.search}`);if(n?.groups){let{socketPath:i,path:o}=n.groups;this._unixOptions={socketPath:i,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(c.assert.any([c.default.object,c.default.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:s}=e;c.assert.function_(r),c.assert.function_(s),r.length===4&&s.length===0?(r=(0,ot.promisify)(r.bind(e)),s=(0,ot.promisify)(s.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:s}):this._internals.cookieJar=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){c.assert.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new fe.URLSearchParams),this._internals.searchParams)}set searchParams(e){c.assert.any([c.default.string,c.default.object,c.default.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let s=this.searchParams,n;if(c.default.string(e))n=new fe.URLSearchParams(e);else if(e instanceof fe.URLSearchParams)n=e;else{Ch(e),n=new fe.URLSearchParams;for(let i in e){let o=e[i];o===null?n.append(i,""):o===void 0?s.delete(i):n.append(i,o)}}if(this._merging){for(let i of n.keys())s.delete(i);for(let[i,o]of n)s.append(i,o)}else r?r.search=s.toString():this._internals.searchParams=s}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){c.assert.any([c.default.function_,c.default.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){c.assert.any([c.default.object,c.default.boolean,c.default.undefined],e),e===!0?this._internals.dnsCache=kh():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){c.assert.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){c.assert.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let s=r,i=e[s];if(c.assert.any([c.default.array,c.default.undefined],i),i)for(let o of i)c.assert.function_(o);if(this._merging)i&&this._internals.hooks[s].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){c.assert.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){c.assert.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){c.assert.any([c.default.object,c.default.string,c.default.boolean,c.default.undefined],e),e===!0?this._internals.cache=Ph:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){c.assert.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){c.assert.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.username=s:this._internals.username=s}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){c.assert.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.password=s:this._internals.password=s}get http2(){return this._internals.http2}set http2(e){c.assert.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){c.assert.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){c.assert.plainObject(e),this._merging?Object.assign(this._internals.headers,kt(e)):this._internals.headers=kt(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){c.assert.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){c.assert.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){c.assert.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(c.assert.plainObject(e),c.assert.any([c.default.function_,c.default.undefined],e.calculateDelay),c.assert.any([c.default.number,c.default.undefined],e.maxRetryAfter),c.assert.any([c.default.number,c.default.undefined],e.limit),c.assert.any([c.default.array,c.default.undefined],e.methods),c.assert.any([c.default.array,c.default.undefined],e.statusCodes),c.assert.any([c.default.array,c.default.undefined],e.errorCodes),c.assert.any([c.default.number,c.default.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let s in e)if(!(s in this._internals.retry))throw new Error(`Unexpected retry option: ${s}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(s=>s.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){c.assert.any([c.default.string,c.default.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){c.assert.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){c.assert.any([c.default.function_,c.default.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){c.assert.plainObject(e),c.assert.any([c.default.boolean,c.default.undefined],e.shared),c.assert.any([c.default.number,c.default.undefined],e.cacheHeuristic),c.assert.any([c.default.number,c.default.undefined],e.immutableMinTimeToLive),c.assert.any([c.default.boolean,c.default.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){c.assert.plainObject(e),c.assert.any([c.default.boolean,c.default.undefined],e.rejectUnauthorized),c.assert.any([c.default.function_,c.default.undefined],e.checkServerIdentity),c.assert.any([c.default.string,c.default.object,c.default.array,c.default.undefined],e.certificateAuthority),c.assert.any([c.default.string,c.default.object,c.default.array,c.default.undefined],e.key),c.assert.any([c.default.string,c.default.object,c.default.array,c.default.undefined],e.certificate),c.assert.any([c.default.string,c.default.undefined],e.passphrase),c.assert.any([c.default.string,c.default.buffer,c.default.array,c.default.undefined],e.pfx),c.assert.any([c.default.array,c.default.undefined],e.alpnProtocols),c.assert.any([c.default.string,c.default.undefined],e.ciphers),c.assert.any([c.default.string,c.default.buffer,c.default.undefined],e.dhparam),c.assert.any([c.default.string,c.default.undefined],e.signatureAlgorithms),c.assert.any([c.default.string,c.default.undefined],e.minVersion),c.assert.any([c.default.string,c.default.undefined],e.maxVersion),c.assert.any([c.default.boolean,c.default.undefined],e.honorCipherOrder),c.assert.any([c.default.number,c.default.undefined],e.tlsSessionLifetime),c.assert.any([c.default.string,c.default.undefined],e.ecdhCurve),c.assert.any([c.default.string,c.default.buffer,c.default.array,c.default.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");c.assert.any([c.default.string,c.default.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){c.assert.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){c.assert.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){c.assert.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){c.assert.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){c.assert.any([c.default.number,c.default.undefined],e),this._internals.maxHeaderSize=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,ot.inspect)(this._internals,r)}createNativeRequestOptions(){let e=this._internals,r=e.url,s;r.protocol==="https:"?s=e.http2?e.agent:e.agent.https:s=e.agent.http;let{https:n}=e,{pfx:i}=n;return c.default.array(i)&&c.default.plainObject(i[0])&&(i=i.map(o=>({buf:o.buffer,passphrase:o.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:n.alpnProtocols,ca:n.certificateAuthority,cert:n.certificate,key:n.key,passphrase:n.passphrase,pfx:n.pfx,rejectUnauthorized:n.rejectUnauthorized,checkServerIdentity:n.checkServerIdentity??ao.checkServerIdentity,ciphers:n.ciphers,honorCipherOrder:n.honorCipherOrder,minVersion:n.minVersion,maxVersion:n.maxVersion,sigalgs:n.signatureAlgorithms,sessionTimeout:n.tlsSessionLifetime,dhparam:n.dhparam,ecdhCurve:n.ecdhCurve,crl:n.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:s,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?Dh(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(!!e){if(e.protocol==="https:"){if(this._internals.http2){if(fo<15||fo===15&&Rh<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return lo.default.auto}return uo.default.request}return co.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes),Object.freeze(e.context)}};var at=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304},Jr=class extends B{constructor(e,r){let{options:s}=r.request;super(`${e.message} in "${s.url.toString()}"`,e,r.request);this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Yr=(t,e,r,s)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(s);if(e==="json")return n.length===0?"":r(n.toString());if(e==="buffer")return n}catch(i){throw new Jr(i,t)}throw new Jr({message:`Unknown body type '${e}'`,name:"Error"},t)};function Lh(t){return t.writable&&!t.writableEnded}var mo=Lh;var $h=$.default.string(Kr.default.versions.brotli),Hh=new Set(["GET","HEAD"]),Xr=new Pt,Ih=new Set([300,301,302,303,304,307,308]),Nh=["socket","connect","continue","information","upgrade"],Zr=()=>{},we=class extends yo.Duplex{constructor(e,r,s){super({autoDestroy:!1,highWaterMark:0});Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Zr,this._triggerRead=!1,this._cancelTimeouts=Zr,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Zr;let n=()=>{this._unlockWrite()},i=()=>{this._lockWrite()};this.on("pipe",l=>{l.prependListener("data",n),l.on("data",i),l.prependListener("end",n),l.on("end",i)}),this.on("unpipe",l=>{l.off("data",n),l.off("data",i),l.off("end",n),l.off("end",i)}),this.on("pipe",l=>{l.headers&&Object.assign(this.options.headers,l.headers)}),this.on("newListener",l=>{if(l==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new K(e,r,s),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(l){let{options:p}=l;p&&(this.options=p),this.flush=async()=>{this.flush=async()=>{},this.destroy(l)};return}let{json:o,body:a,form:h}=this.options;(o||a||h)&&this._lockWrite(),$.default.nodeStream(a)&&a.once("error",l=>{this._flushed?this._beforeError(new _t(l,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new _t(l,this))}})}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:s}=this,n=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof B||(e=new B(e.message,e,this));let i=e;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let o;try{let a;r&&"retry-after"in r.headers&&(a=Number(r.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(r.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3);let h=s.retry;o=await h.calculateDelay({attemptCount:n,retryOptions:h,error:i,retryAfter:a,computedValue:Bn({attemptCount:n,retryOptions:h,error:i,retryAfter:a,computedValue:h.maxRetryAfter??s.timeout.request??Number.POSITIVE_INFINITY})})}catch(a){this._error(new B(a.message,a,this));return}if(o){if(await new Promise(a=>{let h=setTimeout(a,o);this._stopRetry=()=>{clearTimeout(h),a()}}),this.destroyed)return;try{for(let a of this.options.hooks.beforeRetry)await a(i,this.retryCount+1)}catch(a){this._error(new B(a.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,a=>{let h=new we(s.url,a,s);return h.retryCount=this.retryCount+1,Kr.default.nextTick(()=>{h.flush()}),h});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let s=this.downloadProgress;s.percent<1&&this.emit("downloadProgress",s),this.push(r)}}}_write(e,r,s){let n=()=>{this._writeRequest(e,r,s)};this._requestInitialized?n():this._jobs.push(n)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(s=>{this._request._writableState?.errored||(s||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(s))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this.options){let{body:s}=this.options;$.default.nodeStream(s)&&s.destroy()}this._request&&this._request.destroy(),e!==null&&!$.default.undefined(e)&&!(e instanceof B)&&(e=new B(e.message,e,this)),r(e)}pipe(e,r){return e instanceof ct.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof ct.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,s=!$.default.undefined(e.form),n=!$.default.undefined(e.json),i=!$.default.undefined(e.body),o=Hh.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=o,s||n||i){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let a=!$.default.string(r["content-type"]);if(i){if(Ot(e.body)){let l=new br(e.body);a&&(r["content-type"]=l.headers["Content-Type"]),r["content-length"]=l.headers["Content-Length"],e.body=l.encode()}Xe(e.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(s){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:l}=e;e.form=void 0,e.body=new Nt.URLSearchParams(l).toString()}else{a&&(r["content-type"]="application/json");let{json:l}=e;e.json=void 0,e.body=e.stringifyJson(l)}let h=await Sr(e.body,e.headers);$.default.undefined(r["content-length"])&&$.default.undefined(r["transfer-encoding"])&&!o&&!$.default.undefined(h)&&(r["content-length"]=String(h))}else o?this._lockWrite():this._unlockWrite();e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:s}=r;this._nativeResponse=e,r.decompress&&(e=(0,go.default)(e));let n=e.statusCode,i=e;i.statusMessage=i.statusMessage?i.statusMessage:ct.default.STATUS_CODES[n],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{this._aborted=!0,e.destroy(),this._beforeError(new bt(a,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new bt({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if($.default.object(r.cookieJar)&&o){let a=o.map(async h=>r.cookieJar.setCookie(h,s.toString()));r.ignoreInvalidCookies&&(a=a.map(async h=>{try{await h}catch{}}));try{await Promise.all(a)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&Ih.has(n)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new Yt(this));return}this._request=void 0;let a=new K(void 0,void 0,this.options);(n===303&&a.method!=="GET"&&a.method!=="HEAD"||a.methodRewriting)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let l=It.Buffer.from(e.headers.location,"binary").toString(),p=new Nt.URL(l,s);p.hostname!==s.hostname||p.port!==s.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(p.username=a.username,p.password=a.password),this.redirectUrls.push(p),a.prefixUrl="",a.url=p;for(let d of a.hooks.beforeRedirect)await d(a,i);this.emit("redirect",a,i),this.options=a,await this._makeRequest()}catch(l){this._beforeError(l);return}return}if(r.isStream&&r.throwHttpErrors&&!at(i)){this._beforeError(new ge(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let h in e.headers){let l=r.decompress?h!=="content-encoding":!0,p=e.headers[h];l&&a.setHeader(h,p)}a.statusCode=n}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,_o.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:s,url:n}=r;Ws(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=Or(e,s,n);let i=r.cache?"cacheableResponse":"response";e.once(i,o=>{this._onResponse(o)}),e.once("error",o=>{this._aborted=!0,e.destroy(),o=o instanceof Ct?new Qt(o,this.timings,this):new B(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=Ze(e,this,Nh),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,s)=>{super.write(e,n=>{if(n){s(n);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;$.default.nodeStream(e)?e.pipe(r):$.default.generator(e)||$.default.asyncGenerator(e)?(async()=>{try{for await(let s of e)await this._asyncWrite(s);super.end()}catch(s){this._beforeError(s)}})():(this._unlockWrite(),$.default.undefined(e)?(this._cannotHaveBody||this._noPipe)&&(r.end(),this._lockWrite()):(this._writeRequest(e,void 0,()=>{}),r.end(),this._lockWrite()))}_prepareCache(e){Xr.has(e)||Xr.set(e,new Qr.default((r,s)=>{let n=r._request(r,s);return $.default.promise(n)&&(n.once=(i,o)=>{if(i==="error")(async()=>{try{await n}catch(a){o(a)}})();else if(i==="abort")(async()=>{try{(await n).once("abort",o)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${i}`);return n}),n},e))}async _createCacheableRequest(e,r){return new Promise((s,n)=>{Object.assign(r,vr(e));let i,o=Xr.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,i){let h=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",h),h(),(await i).emit("cacheableResponse",a)}s(a)});o.once("error",n),o.once("request",async a=>{i=a,s(i)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:s,password:n}=e,i=e.cookieJar;for(let l in r)if($.default.undefined(r[l]))delete r[l];else if($.default.null_(r[l]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${l}\` header`);if(e.decompress&&$.default.undefined(r["accept-encoding"])&&(r["accept-encoding"]=$h?"gzip, deflate, br":"gzip, deflate"),s||n){let l=It.Buffer.from(`${s}:${n}`).toString("base64");r.authorization=`Basic ${l}`}if(i){let l=await i.getCookieString(e.url.toString());$.default.nonEmptyString(l)&&(r.cookie=l)}e.prefixUrl="";let o;for(let l of e.hooks.beforeRequest){let p=await l(e);if(!$.default.undefined(p)){o=()=>p;break}}o||(o=e.getRequestFunction());let a=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._prepareCache(e.cache));let h=e.cache?this._createCacheableRequest:o;try{let l=h(a,this._requestOptions);$.default.promise(l)&&(l=await l),$.default.undefined(l)&&(l=e.getFallbackRequestFunction()(a,this._requestOptions),$.default.promise(l)&&(l=await l)),mo(l)?this._onRequest(l):this.writable?(this.once("finish",()=>{this._onResponse(l)}),this._sendBody()):this._onResponse(l)}catch(l){throw l instanceof Qr.default.CacheError?new Kt(l,this):l}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new B(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,s){!this._request||this._request.destroyed||this._request.write(e,r,n=>{if(!n){this._uploadedSize+=It.Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}s(n)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}};var es=class extends B{constructor(e){super("Promise was canceled",{},e);this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var Mh=["request","response","redirect","uploadProgress","downloadProgress"];function Mt(t){let e,r,s,n=new bo.EventEmitter,i=new Se((a,h,l)=>{l(()=>{e.destroy()}),l.shouldReject=!1,l(()=>{h(new es(e))});let p=d=>{l(()=>{});let m=t??new we(void 0,void 0,s);m.retryCount=d,m._noPipe=!0,e=m,m.once("response",async f=>{let b=(f.headers["content-encoding"]??"").toLowerCase(),C=b==="gzip"||b==="deflate"||b==="br",{options:j}=m;if(C&&!j.decompress)f.body=f.rawBody;else try{f.body=Yr(f,j.responseType,j.parseJson,j.encoding)}catch(x){if(f.body=f.rawBody.toString(),at(f)){m._beforeError(x);return}}try{let x=j.hooks.afterResponse;for(let[k,M]of x.entries())if(f=await M(f,async V=>{throw j.merge(V),j.prefixUrl="",V.url&&(j.url=V.url),j.hooks.afterResponse=j.hooks.afterResponse.slice(0,k),new Xt(m)}),!(Ie.default.object(f)&&Ie.default.number(f.statusCode)&&!Ie.default.nullOrUndefined(f.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(x){m._beforeError(x);return}if(r=f,!at(f)){m._beforeError(new ge(f));return}m.destroy(),a(m.options.resolveBodyOnly?f.body:f)});let y=f=>{if(i.isCanceled)return;let{options:b}=m;if(f instanceof ge&&!b.throwHttpErrors){let{response:C}=f;m.destroy(),a(m.options.resolveBodyOnly?C.body:C);return}h(f)};m.once("error",y);let T=m.options?.body;m.once("retry",(f,b)=>{t=void 0;let C=m.options.body;if(T===C&&Ie.default.nodeStream(C)){b.message="Cannot retry with consumed body stream",y(b);return}s=m.options,p(f)}),Ze(m,n,Mh),Ie.default.undefined(t)&&m.flush()};p(0)});i.on=(a,h)=>(n.on(a,h),i);let o=a=>{let h=(async()=>{await i;let{options:l}=r.request;return Yr(r,a,l.parseJson,l.encoding)})();return Object.defineProperties(h,Object.getOwnPropertyDescriptors(i)),h};return i.json=()=>{if(e.options){let{headers:a}=e.options;!e.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}var Uh=async t=>new Promise(e=>{setTimeout(e,t)}),Bh=t=>Q.default.function_(t),zh=["get","post","put","patch","head","delete"],wo=t=>{t={options:new K(void 0,void 0,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults},Object.defineProperty(t,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let e=(s,n,i=t.options)=>{let o=new we(s,n,i),a,h=d=>(o.options=d,o._noPipe=!d.isStream,o.flush(),d.isStream?o:(a||(a=Mt(o)),a)),l=0,p=d=>{let y=(t.handlers[l++]??h)(d,p);if(Q.default.promise(y)&&!o.options.isStream&&(a||(a=Mt(o)),y!==a)){let T=Object.getOwnPropertyDescriptors(a);for(let f in T)f in y&&delete T[f];Object.defineProperties(y,T),y.cancel=a.cancel}return y};return p(o.options)};e.extend=(...s)=>{let n=new K(void 0,void 0,t.options),i=[...t.handlers],o;for(let a of s)Bh(a)?(n.merge(a.defaults.options),i.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(n.merge(a),a.handlers&&i.push(...a.handlers),o=a.mutableDefaults);return wo({options:n,handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(s,n){let i=new K(s,n,t.options);i.resolveBodyOnly=!1;let{pagination:o}=i;Q.assert.function_(o.transform),Q.assert.function_(o.shouldContinue),Q.assert.function_(o.filter),Q.assert.function_(o.paginate),Q.assert.number(o.countLimit),Q.assert.number(o.requestLimit),Q.assert.number(o.backoff);let a=[],{countLimit:h}=o,l=0;for(;l<o.requestLimit;){l!==0&&await Uh(o.backoff);let p=await e(void 0,void 0,i),d=await o.transform(p),m=[];Q.assert.array(d);for(let T of d)if(o.filter({item:T,currentItems:m,allItems:a})&&(!o.shouldContinue({item:T,currentItems:m,allItems:a})||(yield T,o.stackAllItems&&a.push(T),m.push(T),--h<=0)))return;let y=o.paginate({response:p,currentItems:m,allItems:a});if(y===!1)return;y===p.request.options?i=p.request.options:(i.merge(y),Q.assert.any([Q.default.urlInstance,Q.default.undefined],y.url),y.url!==void 0&&(i.prefixUrl="",i.url=y.url)),l++}};e.paginate=r,e.paginate.all=async(s,n)=>{let i=[];for await(let o of r(s,n))i.push(o);return i},e.paginate.each=r,e.stream=(s,n)=>e(s,{...n,isStream:!0});for(let s of zh)e[s]=(n,i)=>e(n,{...i,method:s}),e.stream[s]=(n,i)=>e(n,{...i,method:s,isStream:!0});return t.mutableDefaults||(Object.freeze(t.handlers),t.options.freeze()),Object.defineProperty(e,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!0}),e},Eo=wo;var Fh={options:new K,handlers:[],mutableDefaults:!1},Vh=Eo(Fh),ts=Vh;var xo=q(So());process.env.TZ="Asia/Seoul";function Wh(){return Ue(this,null,function*(){let t=se.getInput("jira-hostname"),e=se.getInput("jira-username"),r=se.getInput("jira-password"),s=se.getInput("projects"),n=se.getInput("suffix"),i=(0,xo.default)().format("YYYY.MM.DD"),o=se.getInput("version-name")||(n?`v${i} - ${n}`:`v${i}`),a=yield Promise.all(s.split(",").map(d=>Ue(this,null,function*(){console.log({project:d});let m=yield h(d),y=p(m,o)||(yield l(d,o,se.getBooleanInput("version-released")));return{project:d,version:y}})));se.setOutput("result",a);function h(d){return Ue(this,null,function*(){let m=new URL(`/rest/api/2/project/${d}/versions`,t).toString();return ts.get(m,{username:e,password:r}).json()})}function l(d,m,y){return Ue(this,null,function*(){let T=new URL("/rest/api/2/version",t).toString();return ts.post(T,{username:e,password:r,json:{name:m,project:d,released:y}}).json()})}function p(d,m){return d.find(y=>y.name===m)}})}Wh().catch(t=>{t instanceof ge&&(console.error(t.message),console.error(t.request.options.headers),console.error(t.response.body))});
